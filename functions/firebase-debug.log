[debug] [2023-10-19T02:30:13.745Z] ----------------------------------------------------------------------
[debug] [2023-10-19T02:30:13.749Z] Command:       /usr/bin/node /usr/bin/firebase emulators:start
[debug] [2023-10-19T02:30:13.749Z] CLI Version:   12.7.0
[debug] [2023-10-19T02:30:13.750Z] Platform:      linux
[debug] [2023-10-19T02:30:13.750Z] Node Version:  v18.17.1
[debug] [2023-10-19T02:30:13.751Z] Time:          Thu Oct 19 2023 04:30:13 GMT+0200 (South Africa Standard Time)
[debug] [2023-10-19T02:30:13.751Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-10-19T02:30:14.023Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-10-19T02:30:14.024Z] > authorizing via signed-in user (milesvika21@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2023-10-19T02:30:14.031Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-19T02:30:14.031Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-19T02:30:14.032Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-10-19T02:30:14.067Z] [hub] writing locator at /tmp/hub-shop-kings.json
[debug] [2023-10-19T02:30:14.091Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-19T02:30:14.092Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-10-19T02:30:14.092Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[debug] [2023-10-19T02:30:14.156Z] defaultcredentials: writing to file /home/thuso/.config/firebase/milesvika21_gmail_com_application_default_credentials.json
[debug] [2023-10-19T02:30:14.185Z] Setting GAC to /home/thuso/.config/firebase/milesvika21_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/thuso/.config/firebase/milesvika21_gmail_com_application_default_credentials.json"}}
[debug] [2023-10-19T02:30:14.187Z] > refreshing access token with scopes: []
[debug] [2023-10-19T02:30:14.190Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-10-19T02:30:14.190Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-10-19T02:30:14.748Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-10-19T02:30:14.749Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-10-19T02:30:14.954Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings/adminSdkConfig [none]
[debug] [2023-10-19T02:30:15.815Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings/adminSdkConfig 200
[debug] [2023-10-19T02:30:15.816Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings/adminSdkConfig {"projectId":"shop-kings","storageBucket":"shop-kings.appspot.com"}
[debug] [2023-10-19T02:30:15.929Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/shop-kings/sites 
[debug] [2023-10-19T02:30:18.386Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/shop-kings/sites 200
[debug] [2023-10-19T02:30:18.386Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/shop-kings/sites {"sites":[{"name":"projects/shop-kings/sites/shop-kings","defaultUrl":"https://shop-kings.web.app","appId":"1:491549116989:web:2f1513a2ae2ff701f8f854","type":"DEFAULT_SITE"}]}
[debug] [2023-10-19T02:30:18.387Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings/webApps/1:491549116989:web:2f1513a2ae2ff701f8f854/config [none]
[debug] [2023-10-19T02:30:19.402Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings/webApps/1:491549116989:web:2f1513a2ae2ff701f8f854/config 200
[debug] [2023-10-19T02:30:19.403Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings/webApps/1:491549116989:web:2f1513a2ae2ff701f8f854/config {"projectId":"shop-kings","appId":"1:491549116989:web:2f1513a2ae2ff701f8f854","storageBucket":"shop-kings.appspot.com","apiKey":"AIzaSyDQBzBzkH6jnD5IGfjLUK9bbFJXXAliVWI","authDomain":"shop-kings.firebaseapp.com","messagingSenderId":"491549116989","measurementId":"G-3KGW9YJN3C"}
[debug] [2023-10-19T02:30:19.458Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings [none]
[debug] [2023-10-19T02:30:20.116Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings 200
[debug] [2023-10-19T02:30:20.116Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/shop-kings {"projectId":"shop-kings","projectNumber":"491549116989","displayName":"shop-kings","name":"projects/shop-kings","resources":{"hostingSite":"shop-kings"},"state":"ACTIVE","etag":"1_ae90add6-5636-4cd7-af41-0b355752de85"}
[info] i  hosting[shop-kings]: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting[shop-kings]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.11.7.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.11.7.zip..."}}
[debug] [2023-10-19T02:30:20.563Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.11.7.zip 
[debug] [2023-10-19T02:30:21.300Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.11.7.zip 200
[debug] [2023-10-19T02:30:21.301Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.11.7.zip [stream]
[debug] [2023-10-19T02:30:23.838Z] Data is 3064105
[debug] [2023-10-19T02:30:23.840Z] [unzip] Entry: client/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2023-10-19T02:30:23.840Z] [unzip] Processing entry: client/
[debug] [2023-10-19T02:30:23.841Z] [unzip] mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/
[debug] [2023-10-19T02:30:23.844Z] [unzip] Entry: client/favicon.ico (compressed_size=2497 bytes, uncompressed_size=7406 bytes)
[debug] [2023-10-19T02:30:23.844Z] [unzip] Processing entry: client/favicon.ico
[debug] [2023-10-19T02:30:23.845Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:23.846Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/favicon.ico
[debug] [2023-10-19T02:30:23.874Z] [unzip] Entry: client/apple-touch-icon.png (compressed_size=7231 bytes, uncompressed_size=7367 bytes)
[debug] [2023-10-19T02:30:23.875Z] [unzip] Processing entry: client/apple-touch-icon.png
[debug] [2023-10-19T02:30:23.875Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:23.877Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/apple-touch-icon.png
[debug] [2023-10-19T02:30:23.884Z] [unzip] Entry: client/android-chrome-512x512.png (compressed_size=16987 bytes, uncompressed_size=18186 bytes)
[debug] [2023-10-19T02:30:23.885Z] [unzip] Processing entry: client/android-chrome-512x512.png
[debug] [2023-10-19T02:30:23.885Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:23.886Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/android-chrome-512x512.png
[debug] [2023-10-19T02:30:23.894Z] [unzip] Entry: client/assets/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2023-10-19T02:30:23.895Z] [unzip] Processing entry: client/assets/
[debug] [2023-10-19T02:30:23.895Z] [unzip] mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/
[debug] [2023-10-19T02:30:23.896Z] [unzip] Entry: client/assets/extensions/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2023-10-19T02:30:23.897Z] [unzip] Processing entry: client/assets/extensions/
[debug] [2023-10-19T02:30:23.897Z] [unzip] mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/extensions/
[debug] [2023-10-19T02:30:23.898Z] [unzip] Entry: client/assets/extensions/default-extension.png (compressed_size=1646 bytes, uncompressed_size=1657 bytes)
[debug] [2023-10-19T02:30:23.899Z] [unzip] Processing entry: client/assets/extensions/default-extension.png
[debug] [2023-10-19T02:30:23.899Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/extensions
[debug] [2023-10-19T02:30:23.905Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/extensions/default-extension.png
[debug] [2023-10-19T02:30:23.909Z] [unzip] Entry: client/assets/index.58ca09f7.css (compressed_size=37601 bytes, uncompressed_size=321252 bytes)
[debug] [2023-10-19T02:30:23.909Z] [unzip] Processing entry: client/assets/index.58ca09f7.css
[debug] [2023-10-19T02:30:23.910Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets
[debug] [2023-10-19T02:30:23.910Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/index.58ca09f7.css
[debug] [2023-10-19T02:30:23.918Z] [unzip] Entry: client/assets/index.c2583d42.js (compressed_size=526232 bytes, uncompressed_size=1860152 bytes)
[debug] [2023-10-19T02:30:23.918Z] [unzip] Processing entry: client/assets/index.c2583d42.js
[debug] [2023-10-19T02:30:23.918Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets
[debug] [2023-10-19T02:30:23.919Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/index.c2583d42.js
[debug] [2023-10-19T02:30:23.942Z] [unzip] Entry: client/assets/provider-icons/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2023-10-19T02:30:23.942Z] [unzip] Processing entry: client/assets/provider-icons/
[debug] [2023-10-19T02:30:23.943Z] [unzip] mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/
[debug] [2023-10-19T02:30:23.943Z] [unzip] Entry: client/assets/provider-icons/auth_service_oidc.svg (compressed_size=414 bytes, uncompressed_size=858 bytes)
[debug] [2023-10-19T02:30:23.943Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_oidc.svg
[debug] [2023-10-19T02:30:23.943Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.944Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_oidc.svg
[debug] [2023-10-19T02:30:23.945Z] [unzip] Entry: client/assets/provider-icons/auth_service_yahoo.svg (compressed_size=577 bytes, uncompressed_size=1182 bytes)
[debug] [2023-10-19T02:30:23.945Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_yahoo.svg
[debug] [2023-10-19T02:30:23.945Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.946Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_yahoo.svg
[debug] [2023-10-19T02:30:23.947Z] [unzip] Entry: client/assets/provider-icons/auth_service_phone.svg (compressed_size=261 bytes, uncompressed_size=414 bytes)
[debug] [2023-10-19T02:30:23.948Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_phone.svg
[debug] [2023-10-19T02:30:23.948Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.948Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_phone.svg
[debug] [2023-10-19T02:30:23.949Z] [unzip] Entry: client/assets/provider-icons/auth_service_saml.svg (compressed_size=575 bytes, uncompressed_size=1226 bytes)
[debug] [2023-10-19T02:30:23.950Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_saml.svg
[debug] [2023-10-19T02:30:23.950Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.950Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_saml.svg
[debug] [2023-10-19T02:30:23.951Z] [unzip] Entry: client/assets/provider-icons/auth_service_mslive.svg (compressed_size=203 bytes, uncompressed_size=378 bytes)
[debug] [2023-10-19T02:30:23.951Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_mslive.svg
[debug] [2023-10-19T02:30:23.951Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.952Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_mslive.svg
[debug] [2023-10-19T02:30:23.953Z] [unzip] Entry: client/assets/provider-icons/auth_service_facebook.svg (compressed_size=289 bytes, uncompressed_size=457 bytes)
[debug] [2023-10-19T02:30:23.953Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_facebook.svg
[debug] [2023-10-19T02:30:23.953Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.953Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_facebook.svg
[debug] [2023-10-19T02:30:23.955Z] [unzip] Entry: client/assets/provider-icons/auth_service_play_games.svg (compressed_size=565 bytes, uncompressed_size=1173 bytes)
[debug] [2023-10-19T02:30:23.955Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_play_games.svg
[debug] [2023-10-19T02:30:23.955Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.955Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_play_games.svg
[debug] [2023-10-19T02:30:23.956Z] [unzip] Entry: client/assets/provider-icons/auth_service_github.svg (compressed_size=466 bytes, uncompressed_size=838 bytes)
[debug] [2023-10-19T02:30:23.956Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_github.svg
[debug] [2023-10-19T02:30:23.957Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.957Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_github.svg
[debug] [2023-10-19T02:30:23.958Z] [unzip] Entry: client/assets/provider-icons/auth_service_apple.svg (compressed_size=230 bytes, uncompressed_size=334 bytes)
[debug] [2023-10-19T02:30:23.958Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_apple.svg
[debug] [2023-10-19T02:30:23.959Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.959Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_apple.svg
[debug] [2023-10-19T02:30:23.960Z] [unzip] Entry: client/assets/provider-icons/auth_service_google.svg (compressed_size=409 bytes, uncompressed_size=720 bytes)
[debug] [2023-10-19T02:30:23.960Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_google.svg
[debug] [2023-10-19T02:30:23.960Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.960Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_google.svg
[debug] [2023-10-19T02:30:23.961Z] [unzip] Entry: client/assets/provider-icons/auth_service_email.svg (compressed_size=228 bytes, uncompressed_size=326 bytes)
[debug] [2023-10-19T02:30:23.961Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_email.svg
[debug] [2023-10-19T02:30:23.961Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.962Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_email.svg
[debug] [2023-10-19T02:30:23.963Z] [unzip] Entry: client/assets/provider-icons/auth_service_twitter.svg (compressed_size=444 bytes, uncompressed_size=751 bytes)
[debug] [2023-10-19T02:30:23.963Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_twitter.svg
[debug] [2023-10-19T02:30:23.963Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.964Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_twitter.svg
[debug] [2023-10-19T02:30:23.965Z] [unzip] Entry: client/assets/provider-icons/auth_service_game_center.svg (compressed_size=991 bytes, uncompressed_size=3921 bytes)
[debug] [2023-10-19T02:30:23.965Z] [unzip] Processing entry: client/assets/provider-icons/auth_service_game_center.svg
[debug] [2023-10-19T02:30:23.966Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons
[debug] [2023-10-19T02:30:23.966Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/provider-icons/auth_service_game_center.svg
[debug] [2023-10-19T02:30:23.967Z] [unzip] Entry: client/assets/index.c2583d42.js.map (compressed_size=1778557 bytes, uncompressed_size=7961927 bytes)
[debug] [2023-10-19T02:30:23.968Z] [unzip] Processing entry: client/assets/index.c2583d42.js.map
[debug] [2023-10-19T02:30:23.968Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets
[debug] [2023-10-19T02:30:23.968Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/index.c2583d42.js.map
[debug] [2023-10-19T02:30:24.026Z] [unzip] Entry: client/assets/img/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2023-10-19T02:30:24.027Z] [unzip] Processing entry: client/assets/img/
[debug] [2023-10-19T02:30:24.027Z] [unzip] mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/img/
[debug] [2023-10-19T02:30:24.027Z] [unzip] Entry: client/assets/img/database.png (compressed_size=29449 bytes, uncompressed_size=29988 bytes)
[debug] [2023-10-19T02:30:24.027Z] [unzip] Processing entry: client/assets/img/database.png
[debug] [2023-10-19T02:30:24.027Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/img
[debug] [2023-10-19T02:30:24.029Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/assets/img/database.png
[debug] [2023-10-19T02:30:24.033Z] [unzip] Entry: client/safari-pinned-tab.svg (compressed_size=838 bytes, uncompressed_size=1504 bytes)
[debug] [2023-10-19T02:30:24.033Z] [unzip] Processing entry: client/safari-pinned-tab.svg
[debug] [2023-10-19T02:30:24.033Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.033Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/safari-pinned-tab.svg
[debug] [2023-10-19T02:30:24.034Z] [unzip] Entry: client/mstile-150x150.png (compressed_size=5406 bytes, uncompressed_size=5723 bytes)
[debug] [2023-10-19T02:30:24.034Z] [unzip] Processing entry: client/mstile-150x150.png
[debug] [2023-10-19T02:30:24.034Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.035Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/mstile-150x150.png
[debug] [2023-10-19T02:30:24.036Z] [unzip] Entry: client/browserconfig.xml (compressed_size=491 bytes, uncompressed_size=822 bytes)
[debug] [2023-10-19T02:30:24.036Z] [unzip] Processing entry: client/browserconfig.xml
[debug] [2023-10-19T02:30:24.036Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.036Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/browserconfig.xml
[debug] [2023-10-19T02:30:24.039Z] [unzip] Entry: client/robots.txt (compressed_size=26 bytes, uncompressed_size=26 bytes)
[debug] [2023-10-19T02:30:24.039Z] [unzip] Processing entry: client/robots.txt
[debug] [2023-10-19T02:30:24.039Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.039Z] [unzip] Writing file: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/robots.txt
[debug] [2023-10-19T02:30:24.041Z] [unzip] Entry: client/index.html (compressed_size=1363 bytes, uncompressed_size=3064 bytes)
[debug] [2023-10-19T02:30:24.041Z] [unzip] Processing entry: client/index.html
[debug] [2023-10-19T02:30:24.041Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.042Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/index.html
[debug] [2023-10-19T02:30:24.043Z] [unzip] Entry: client/favicon-16x16.png (compressed_size=757 bytes, uncompressed_size=777 bytes)
[debug] [2023-10-19T02:30:24.043Z] [unzip] Processing entry: client/favicon-16x16.png
[debug] [2023-10-19T02:30:24.043Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.043Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/favicon-16x16.png
[debug] [2023-10-19T02:30:24.045Z] [unzip] Entry: client/manifest.json (compressed_size=246 bytes, uncompressed_size=551 bytes)
[debug] [2023-10-19T02:30:24.047Z] [unzip] Processing entry: client/manifest.json
[debug] [2023-10-19T02:30:24.047Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.047Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/manifest.json
[debug] [2023-10-19T02:30:24.049Z] [unzip] Entry: client/favicon-32x32.png (compressed_size=1175 bytes, uncompressed_size=1175 bytes)
[debug] [2023-10-19T02:30:24.049Z] [unzip] Processing entry: client/favicon-32x32.png
[debug] [2023-10-19T02:30:24.049Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.049Z] [unzip] Writing file: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/favicon-32x32.png
[debug] [2023-10-19T02:30:24.050Z] [unzip] Entry: client/android-chrome-192x192.png (compressed_size=7602 bytes, uncompressed_size=7834 bytes)
[debug] [2023-10-19T02:30:24.050Z] [unzip] Processing entry: client/android-chrome-192x192.png
[debug] [2023-10-19T02:30:24.050Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client
[debug] [2023-10-19T02:30:24.050Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/client/android-chrome-192x192.png
[debug] [2023-10-19T02:30:24.051Z] [unzip] Entry: server/ (compressed_size=0 bytes, uncompressed_size=0 bytes)
[debug] [2023-10-19T02:30:24.051Z] [unzip] Processing entry: server/
[debug] [2023-10-19T02:30:24.051Z] [unzip] mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/server/
[debug] [2023-10-19T02:30:24.052Z] [unzip] Entry: server/server.js (compressed_size=343746 bytes, uncompressed_size=1346374 bytes)
[debug] [2023-10-19T02:30:24.052Z] [unzip] Processing entry: server/server.js
[debug] [2023-10-19T02:30:24.052Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/server
[debug] [2023-10-19T02:30:24.052Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/server/server.js
[debug] [2023-10-19T02:30:24.069Z] [unzip] Entry: server/server.js.map (compressed_size=289157 bytes, uncompressed_size=1325651 bytes)
[debug] [2023-10-19T02:30:24.069Z] [unzip] Processing entry: server/server.js.map
[debug] [2023-10-19T02:30:24.069Z] [unzip] else mkdir: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/server
[debug] [2023-10-19T02:30:24.069Z] [unzip] deflating: /home/thuso/.cache/firebase/emulators/ui-v1.11.7/server/server.js.map
[debug] [2023-10-19T02:30:24.083Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-10-19T02:30:24.083Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-10-19T02:30:24.083Z] Starting Emulator UI with command {"binary":"node","args":["/home/thuso/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/thuso/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-10-19T02:30:24.232Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-10-19T02:30:24.233Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/home/thuso/Documents/Crip/web_development/shop-kings/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/thuso/Documents/Crip/web_development/shop-kings/functions\" for Cloud Functions..."}}
[debug] [2023-10-19T02:30:24.406Z] Validating nodejs source
[debug] [2023-10-19T02:30:27.219Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T02:30:27.220Z] Building nodejs source
[debug] [2023-10-19T02:30:27.221Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T02:30:27.225Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T02:30:27.229Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8891

[debug] [2023-10-19T02:30:28.341Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/shop-kings/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/shop-kings/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ 127.0.0.1:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-10-19T02:39:52.676Z] File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-19T02:39:53.677Z] Validating nodejs source
[debug] [2023-10-19T02:39:56.513Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T02:39:56.513Z] Building nodejs source
[debug] [2023-10-19T02:39:56.514Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T02:39:56.520Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T02:39:56.523Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8870

[debug] [2023-10-19T02:40:03.192Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-10-19T02:41:16.426Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api-2023-10-19T02:41:16.426Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:41:16.426Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api-2023-10-19T02:41:16.426Z"],"workRunningCount":1}
[debug] [2023-10-19T02:41:16.427Z] Accepted request GET /shop-kings/us-central1/api --> us-central1-api
[debug] [2023-10-19T02:41:16.436Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:41:16.436Z] [functions] Got req.url=/shop-kings/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api, mapping to path=/"}}
[debug] [2023-10-19T02:41:16.460Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T02:41:16.462Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T02:41:17.607Z] [runtime-status] [30788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:41:17.608Z] [runtime-status] [30788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:41:17.610Z] [runtime-status] [30788] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T02:41:17.610Z] [runtime-status] [30788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:41:17.875Z] [runtime-status] [30788] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T02:41:17.876Z] [runtime-status] [30788] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T02:41:17.877Z] [runtime-status] [30788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:41:17.879Z] [runtime-status] [30788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:41:17.900Z] [runtime-status] [30788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:41:17.902Z] [runtime-status] [30788] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T02:41:18.090Z] [runtime-status] [30788] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T02:41:18.090Z] [runtime-status] [30788] Listening to port: /tmp/fire_emu_98c5333a0da52a5f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30788] Listening to port: /tmp/fire_emu_98c5333a0da52a5f.sock"}}
[debug] [2023-10-19T02:41:18.195Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: IDLE"}}
[debug] [2023-10-19T02:41:18.196Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:41:18.199Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: BUSY"}}
[debug] [2023-10-19T02:41:18.218Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 19.370972ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 19.370972ms"}}
[debug] [2023-10-19T02:41:18.219Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: IDLE"}}
[debug] [2023-10-19T02:41:18.220Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T02:41:18.220Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T02:41:18.220Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:41:18.902Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2023-10-19T02:42:26.695Z] File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-19T02:42:27.699Z] Validating nodejs source
[debug] [2023-10-19T02:42:30.413Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T02:42:30.414Z] Building nodejs source
[debug] [2023-10-19T02:42:30.414Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T02:42:30.418Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T02:42:30.420Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8726

[debug] [2023-10-19T02:42:32.244Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api-2023-10-19T02:42:32.244Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:42:32.244Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api-2023-10-19T02:42:32.244Z"],"workRunningCount":1}
[debug] [2023-10-19T02:42:32.244Z] Accepted request GET /shop-kings/us-central1/api --> us-central1-api
[debug] [2023-10-19T02:42:32.248Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:42:32.249Z] [functions] Got req.url=/shop-kings/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api, mapping to path=/"}}
[debug] [2023-10-19T02:42:32.249Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:42:32.251Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: BUSY"}}
[debug] [2023-10-19T02:42:32.263Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 15.532098ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 15.532098ms"}}
[debug] [2023-10-19T02:42:32.267Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: IDLE"}}
[debug] [2023-10-19T02:42:32.267Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T02:42:32.267Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T02:42:32.267Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:42:32.328Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-10-19T02:42:32.360Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-10-19T02:42:32.361Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: FINISHING"}}
[debug] [2023-10-19T02:42:32.378Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: exited"}}
[debug] [2023-10-19T02:42:32.378Z] [worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c45204d2-1bf8-4259-ad6d-f5b4c7f44062]: FINISHED"}}
[debug] [2023-10-19T02:42:36.444Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api-2023-10-19T02:42:36.443Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:42:36.444Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api-2023-10-19T02:42:36.443Z"],"workRunningCount":1}
[debug] [2023-10-19T02:42:36.445Z] Accepted request GET /shop-kings/us-central1/api --> us-central1-api
[debug] [2023-10-19T02:42:36.458Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:42:36.459Z] [functions] Got req.url=/shop-kings/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api, mapping to path=/"}}
[debug] [2023-10-19T02:42:36.459Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-10-19T02:42:36.492Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T02:42:36.493Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T02:42:37.503Z] [runtime-status] [30901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:42:37.505Z] [runtime-status] [30901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:42:37.506Z] [runtime-status] [30901] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T02:42:37.508Z] [runtime-status] [30901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:42:37.736Z] [runtime-status] [30901] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T02:42:37.737Z] [runtime-status] [30901] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T02:42:37.738Z] [runtime-status] [30901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:42:37.741Z] [runtime-status] [30901] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:42:37.800Z] [runtime-status] [30901] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:42:37.801Z] [runtime-status] [30901] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T02:42:37.982Z] [runtime-status] [30901] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T02:42:37.983Z] [runtime-status] [30901] Listening to port: /tmp/fire_emu_7b05a5018d91fea8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30901] Listening to port: /tmp/fire_emu_7b05a5018d91fea8.sock"}}
[debug] [2023-10-19T02:42:38.020Z] [worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: IDLE"}}
[debug] [2023-10-19T02:42:38.020Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:42:38.021Z] [worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: BUSY"}}
[debug] [2023-10-19T02:42:38.046Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 25.044835ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 25.044835ms"}}
[debug] [2023-10-19T02:42:38.046Z] [worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: IDLE"}}
[debug] [2023-10-19T02:42:38.047Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T02:42:38.047Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T02:42:38.047Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:45:08.148Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:08.148Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:45:08.148Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:08.148Z"],"workRunningCount":1}
[debug] [2023-10-19T02:45:08.148Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=29999 --> us-central1-api
[debug] [2023-10-19T02:45:08.152Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:45:08.152Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999"}}
[debug] [2023-10-19T02:45:08.153Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:45:08.155Z] [worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  29999 {"user":"Payment Request Recieved for this amount >>>  29999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  29999"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96"}}
[info] >                          err = new Error_js_1.StripeAuthenticationError(jsonResponse.error); {"user":"                        err = new Error_js_1.StripeAuthenticationError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                         err = new Error_js_1.StripeAuthenticationError(jsonResponse.error);"}}
[info] >                                ^ {"user":"                              ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                               ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js {"user":"StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeAuthenticationError', {"user":"  type: 'StripeAuthenticationError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeAuthenticationError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js', {"user":"    message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 02:45:09 GMT', {"user":"      date: 'Thu, 19 Oct 2023 02:45:09 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 02:45:09 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '233', {"user":"      'content-length': '233',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '233',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'www-authenticate': 'Bearer realm="Stripe"', {"user":"      'www-authenticate': 'Bearer realm=\"Stripe\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'www-authenticate': 'Bearer realm=\"Stripe\"',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 401, {"user":"    statusCode: 401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 401,"}}
[info] >      requestId: undefined {"user":"    requestId: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: undefined"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: undefined, {"user":"  code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: undefined,"}}
[info] >    doc_url: undefined, {"user":"  doc_url: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: undefined,"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 02:45:09 GMT', {"user":"    date: 'Thu, 19 Oct 2023 02:45:09 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 02:45:09 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '233', {"user":"    'content-length': '233',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '233',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'www-authenticate': 'Bearer realm="Stripe"', {"user":"    'www-authenticate': 'Bearer realm=\"Stripe\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'www-authenticate': 'Bearer realm=\"Stripe\"',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: undefined, {"user":"  requestId: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: undefined,"}}
[info] >    statusCode: 401, {"user":"  statusCode: 401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 401,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T02:45:09.689Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:45:09.689Z] [worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: exited"}}
[debug] [2023-10-19T02:45:09.690Z] [worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-58b2afe2-65f2-41a0-b09a-732e3ab9ca16]: FINISHED"}}
[debug] [2023-10-19T02:45:36.068Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.068Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:45:36.069Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.068Z"],"workRunningCount":1}
[debug] [2023-10-19T02:45:36.069Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T02:45:36.075Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:45:36.075Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T02:45:36.075Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-10-19T02:45:36.092Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T02:45:36.093Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T02:45:36.096Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.096Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.068Z"],"workRunningCount":1}
[debug] [2023-10-19T02:45:36.096Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.068Z","/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.096Z"],"workRunningCount":2}
[debug] [2023-10-19T02:45:36.097Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T02:45:36.107Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:45:36.108Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T02:45:36.130Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T02:45:36.131Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T02:45:38.050Z] [runtime-status] [31045] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:45:38.060Z] [runtime-status] [31045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.061Z] [runtime-status] [31045] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T02:45:38.061Z] [runtime-status] [31045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.218Z] [runtime-status] [31039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:45:38.223Z] [runtime-status] [31039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.227Z] [runtime-status] [31039] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T02:45:38.235Z] [runtime-status] [31039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.551Z] [runtime-status] [31045] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T02:45:38.553Z] [runtime-status] [31045] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T02:45:38.558Z] [runtime-status] [31045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.563Z] [runtime-status] [31045] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:45:38.570Z] [runtime-status] [31045] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.571Z] [runtime-status] [31045] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T02:45:38.668Z] [runtime-status] [31039] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T02:45:38.670Z] [runtime-status] [31039] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T02:45:38.671Z] [runtime-status] [31039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.677Z] [runtime-status] [31039] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:45:38.677Z] [runtime-status] [31039] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:45:38.678Z] [runtime-status] [31039] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T02:45:38.861Z] [runtime-status] [31045] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T02:45:38.861Z] [runtime-status] [31045] Listening to port: /tmp/fire_emu_09fec35641513d4f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31045] Listening to port: /tmp/fire_emu_09fec35641513d4f.sock"}}
[debug] [2023-10-19T02:45:38.913Z] [worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: IDLE"}}
[debug] [2023-10-19T02:45:38.914Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:45:38.915Z] [worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T02:45:38.942Z] [runtime-status] [31039] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T02:45:38.942Z] [runtime-status] [31039] Listening to port: /tmp/fire_emu_8f7f3aa66b59f03e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31039] Listening to port: /tmp/fire_emu_8f7f3aa66b59f03e.sock"}}
[debug] [2023-10-19T02:45:39.050Z] [worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: IDLE"}}
[debug] [2023-10-19T02:45:39.050Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:45:39.051Z] [worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96"}}
[info] >                          err = new Error_js_1.StripeAuthenticationError(jsonResponse.error); {"user":"                        err = new Error_js_1.StripeAuthenticationError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                         err = new Error_js_1.StripeAuthenticationError(jsonResponse.error);"}}
[info] >                                ^ {"user":"                              ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                               ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js {"user":"StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeAuthenticationError', {"user":"  type: 'StripeAuthenticationError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeAuthenticationError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js', {"user":"    message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 02:45:40 GMT', {"user":"      date: 'Thu, 19 Oct 2023 02:45:40 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 02:45:40 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '233', {"user":"      'content-length': '233',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '233',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'www-authenticate': 'Bearer realm="Stripe"', {"user":"      'www-authenticate': 'Bearer realm=\"Stripe\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'www-authenticate': 'Bearer realm=\"Stripe\"',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 401, {"user":"    statusCode: 401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 401,"}}
[info] >      requestId: undefined {"user":"    requestId: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: undefined"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: undefined, {"user":"  code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: undefined,"}}
[info] >    doc_url: undefined, {"user":"  doc_url: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: undefined,"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 02:45:40 GMT', {"user":"    date: 'Thu, 19 Oct 2023 02:45:40 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 02:45:40 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '233', {"user":"    'content-length': '233',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '233',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'www-authenticate': 'Bearer realm="Stripe"', {"user":"    'www-authenticate': 'Bearer realm=\"Stripe\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'www-authenticate': 'Bearer realm=\"Stripe\"',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: undefined, {"user":"  requestId: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: undefined,"}}
[info] >    statusCode: 401, {"user":"  statusCode: 401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 401,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T02:45:40.343Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:45:36.068Z"],"workRunningCount":1}
[debug] [2023-10-19T02:45:40.343Z] [worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: exited"}}
[debug] [2023-10-19T02:45:40.343Z] [worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-14b890c9-4688-4c0e-bb87-6ce23c6ead84]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96"}}
[info] >                          err = new Error_js_1.StripeAuthenticationError(jsonResponse.error); {"user":"                        err = new Error_js_1.StripeAuthenticationError(jsonResponse.error);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                         err = new Error_js_1.StripeAuthenticationError(jsonResponse.error);"}}
[info] >                                ^ {"user":"                              ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                               ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js {"user":"StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeAuthenticationError: Invalid API Key provided: /home/th***********************************************************************************************************************x.js"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:96:31)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeAuthenticationError', {"user":"  type: 'StripeAuthenticationError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeAuthenticationError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js', {"user":"    message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid API Key provided: /home/th***********************************************************************************************************************x.js',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 02:45:40 GMT', {"user":"      date: 'Thu, 19 Oct 2023 02:45:40 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 02:45:40 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '233', {"user":"      'content-length': '233',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '233',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'www-authenticate': 'Bearer realm="Stripe"', {"user":"      'www-authenticate': 'Bearer realm=\"Stripe\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'www-authenticate': 'Bearer realm=\"Stripe\"',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 401, {"user":"    statusCode: 401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 401,"}}
[info] >      requestId: undefined {"user":"    requestId: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: undefined"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: undefined, {"user":"  code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: undefined,"}}
[info] >    doc_url: undefined, {"user":"  doc_url: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: undefined,"}}
[info] >    param: undefined, {"user":"  param: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: undefined,"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 02:45:40 GMT', {"user":"    date: 'Thu, 19 Oct 2023 02:45:40 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 02:45:40 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '233', {"user":"    'content-length': '233',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '233',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'www-authenticate': 'Bearer realm="Stripe"', {"user":"    'www-authenticate': 'Bearer realm=\"Stripe\"',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'www-authenticate': 'Bearer realm=\"Stripe\"',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: undefined, {"user":"  requestId: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: undefined,"}}
[info] >    statusCode: 401, {"user":"  statusCode: 401,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 401,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T02:45:40.461Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:45:40.461Z] [worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: exited"}}
[debug] [2023-10-19T02:45:40.461Z] [worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3208945c-d196-46c3-9ed6-4dd7ffeb3fe9]: FINISHED"}}
[debug] [2023-10-19T02:53:25.551Z] File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-19T02:53:26.554Z] Validating nodejs source
[debug] [2023-10-19T02:53:29.180Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T02:53:29.181Z] Building nodejs source
[debug] [2023-10-19T02:53:29.181Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T02:53:29.182Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T02:53:29.183Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8747

[debug] [2023-10-19T02:53:29.666Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-10-19T02:53:41.611Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.611Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:53:41.611Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.611Z"],"workRunningCount":1}
[debug] [2023-10-19T02:53:41.611Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T02:53:41.613Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:53:41.614Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T02:53:41.614Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T02:53:41.627Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T02:53:41.628Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T02:53:41.630Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.630Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.611Z"],"workRunningCount":1}
[debug] [2023-10-19T02:53:41.630Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.611Z","/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.630Z"],"workRunningCount":2}
[debug] [2023-10-19T02:53:41.630Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T02:53:41.635Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T02:53:41.636Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T02:53:41.653Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T02:53:41.654Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T02:53:43.934Z] [runtime-status] [31485] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:53:43.937Z] [runtime-status] [31485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:43.940Z] [runtime-status] [31485] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T02:53:43.946Z] [runtime-status] [31485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:43.990Z] [runtime-status] [31491] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:53:44.003Z] [runtime-status] [31491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:44.004Z] [runtime-status] [31491] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T02:53:44.020Z] [runtime-status] [31491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:44.270Z] [runtime-status] [31485] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T02:53:44.270Z] [runtime-status] [31485] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T02:53:44.272Z] [runtime-status] [31485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:44.278Z] [runtime-status] [31485] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:53:44.281Z] [runtime-status] [31485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:44.282Z] [runtime-status] [31485] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T02:53:44.331Z] [runtime-status] [31491] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T02:53:44.331Z] [runtime-status] [31491] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T02:53:44.333Z] [runtime-status] [31491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:44.335Z] [runtime-status] [31491] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T02:53:44.337Z] [runtime-status] [31491] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T02:53:44.337Z] [runtime-status] [31491] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T02:53:44.463Z] [runtime-status] [31485] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T02:53:44.464Z] [runtime-status] [31485] Listening to port: /tmp/fire_emu_dae7102a28e40cfd.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31485] Listening to port: /tmp/fire_emu_dae7102a28e40cfd.sock"}}
[debug] [2023-10-19T02:53:44.493Z] [worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: IDLE"}}
[debug] [2023-10-19T02:53:44.493Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:53:44.494Z] [worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T02:53:44.512Z] [runtime-status] [31491] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T02:53:44.514Z] [runtime-status] [31491] Listening to port: /tmp/fire_emu_efddd1b74cf86a6f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31491] Listening to port: /tmp/fire_emu_efddd1b74cf86a6f.sock"}}
[debug] [2023-10-19T02:53:44.531Z] [worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: IDLE"}}
[debug] [2023-10-19T02:53:44.532Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T02:53:44.534Z] [worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_QweC0OM9wrhV5E?t=1697684025', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_QweC0OM9wrhV5E?t=1697684025',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_QweC0OM9wrhV5E?t=1697684025',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 02:53:46 GMT', {"user":"      date: 'Thu, 19 Oct 2023 02:53:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 02:53:46 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-8137e1b1-563b-43c1-b6e1-31bd5d80ee05', {"user":"      'idempotency-key': 'stripe-node-retry-8137e1b1-563b-43c1-b6e1-31bd5d80ee05',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-8137e1b1-563b-43c1-b6e1-31bd5d80ee05',"}}
[info] >        'original-request': 'req_QweC0OM9wrhV5E', {"user":"      'original-request': 'req_QweC0OM9wrhV5E',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_QweC0OM9wrhV5E',"}}
[info] >        'request-id': 'req_QweC0OM9wrhV5E', {"user":"      'request-id': 'req_QweC0OM9wrhV5E',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_QweC0OM9wrhV5E',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_QweC0OM9wrhV5E' {"user":"    requestId: 'req_QweC0OM9wrhV5E'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_QweC0OM9wrhV5E'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 02:53:46 GMT', {"user":"    date: 'Thu, 19 Oct 2023 02:53:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 02:53:46 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-8137e1b1-563b-43c1-b6e1-31bd5d80ee05', {"user":"    'idempotency-key': 'stripe-node-retry-8137e1b1-563b-43c1-b6e1-31bd5d80ee05',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-8137e1b1-563b-43c1-b6e1-31bd5d80ee05',"}}
[info] >      'original-request': 'req_QweC0OM9wrhV5E', {"user":"    'original-request': 'req_QweC0OM9wrhV5E',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_QweC0OM9wrhV5E',"}}
[info] >      'request-id': 'req_QweC0OM9wrhV5E', {"user":"    'request-id': 'req_QweC0OM9wrhV5E',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_QweC0OM9wrhV5E',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_QweC0OM9wrhV5E', {"user":"  requestId: 'req_QweC0OM9wrhV5E',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_QweC0OM9wrhV5E',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T02:53:46.292Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T02:53:41.630Z"],"workRunningCount":1}
[debug] [2023-10-19T02:53:46.293Z] [worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: exited"}}
[debug] [2023-10-19T02:53:46.293Z] [worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3a31c189-80d4-4a43-a492-0027f063f96e]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Tq5eKn9MNKlCTx?t=1697684025', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Tq5eKn9MNKlCTx?t=1697684025',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Tq5eKn9MNKlCTx?t=1697684025',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 02:53:46 GMT', {"user":"      date: 'Thu, 19 Oct 2023 02:53:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 02:53:46 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-acf22ad5-ed08-4454-941c-7dfa3c8afccd', {"user":"      'idempotency-key': 'stripe-node-retry-acf22ad5-ed08-4454-941c-7dfa3c8afccd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-acf22ad5-ed08-4454-941c-7dfa3c8afccd',"}}
[info] >        'original-request': 'req_Tq5eKn9MNKlCTx', {"user":"      'original-request': 'req_Tq5eKn9MNKlCTx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Tq5eKn9MNKlCTx',"}}
[info] >        'request-id': 'req_Tq5eKn9MNKlCTx', {"user":"      'request-id': 'req_Tq5eKn9MNKlCTx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Tq5eKn9MNKlCTx',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_Tq5eKn9MNKlCTx' {"user":"    requestId: 'req_Tq5eKn9MNKlCTx'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Tq5eKn9MNKlCTx'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 02:53:46 GMT', {"user":"    date: 'Thu, 19 Oct 2023 02:53:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 02:53:46 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-acf22ad5-ed08-4454-941c-7dfa3c8afccd', {"user":"    'idempotency-key': 'stripe-node-retry-acf22ad5-ed08-4454-941c-7dfa3c8afccd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-acf22ad5-ed08-4454-941c-7dfa3c8afccd',"}}
[info] >      'original-request': 'req_Tq5eKn9MNKlCTx', {"user":"    'original-request': 'req_Tq5eKn9MNKlCTx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Tq5eKn9MNKlCTx',"}}
[info] >      'request-id': 'req_Tq5eKn9MNKlCTx', {"user":"    'request-id': 'req_Tq5eKn9MNKlCTx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Tq5eKn9MNKlCTx',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Tq5eKn9MNKlCTx', {"user":"  requestId: 'req_Tq5eKn9MNKlCTx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Tq5eKn9MNKlCTx',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T02:53:46.341Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T02:53:46.343Z] [worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: exited"}}
[debug] [2023-10-19T02:53:46.343Z] [worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-697a95d9-ea25-446e-b24b-f10209367d20]: FINISHED"}}
[debug] [2023-10-19T03:02:37.854Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.854Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:02:37.854Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.854Z"],"workRunningCount":1}
[debug] [2023-10-19T03:02:37.855Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=133054 --> us-central1-api
[debug] [2023-10-19T03:02:37.861Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:02:37.861Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=133054, mapping to path=/payments/create?total=133054 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=133054, mapping to path=/payments/create?total=133054"}}
[debug] [2023-10-19T03:02:37.862Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:02:37.877Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:02:37.879Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:02:37.885Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.884Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.854Z"],"workRunningCount":1}
[debug] [2023-10-19T03:02:37.885Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.854Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.884Z"],"workRunningCount":2}
[debug] [2023-10-19T03:02:37.885Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=133054 --> us-central1-api
[debug] [2023-10-19T03:02:37.890Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:02:37.890Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=133054, mapping to path=/payments/create?total=133054 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=133054, mapping to path=/payments/create?total=133054"}}
[debug] [2023-10-19T03:02:37.930Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:02:37.930Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:02:39.256Z] [runtime-status] [31839] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:02:39.261Z] [runtime-status] [31839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.264Z] [runtime-status] [31839] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:02:39.274Z] [runtime-status] [31839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.277Z] [runtime-status] [31833] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:02:39.279Z] [runtime-status] [31833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.282Z] [runtime-status] [31833] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:02:39.283Z] [runtime-status] [31833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.612Z] [runtime-status] [31839] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:02:39.612Z] [runtime-status] [31839] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:02:39.616Z] [runtime-status] [31839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.617Z] [runtime-status] [31839] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:02:39.621Z] [runtime-status] [31839] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.622Z] [runtime-status] [31839] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:02:39.641Z] [runtime-status] [31833] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:02:39.641Z] [runtime-status] [31833] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:02:39.642Z] [runtime-status] [31833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.644Z] [runtime-status] [31833] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:02:39.655Z] [runtime-status] [31833] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:02:39.656Z] [runtime-status] [31833] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:02:39.870Z] [runtime-status] [31839] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:02:39.870Z] [runtime-status] [31839] Listening to port: /tmp/fire_emu_3cd55360de159ff3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31839] Listening to port: /tmp/fire_emu_3cd55360de159ff3.sock"}}
[debug] [2023-10-19T03:02:39.896Z] [runtime-status] [31833] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:02:39.897Z] [runtime-status] [31833] Listening to port: /tmp/fire_emu_08059252b52e7f00.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31833] Listening to port: /tmp/fire_emu_08059252b52e7f00.sock"}}
[debug] [2023-10-19T03:02:39.902Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: IDLE"}}
[debug] [2023-10-19T03:02:39.903Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:02:39.903Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  133054 {"user":"Payment Request Recieved for this amount >>>  133054","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  133054"}}
[debug] [2023-10-19T03:02:39.998Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: IDLE"}}
[debug] [2023-10-19T03:02:39.999Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:02:39.999Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  133054 {"user":"Payment Request Recieved for this amount >>>  133054","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  133054"}}
[debug] [2023-10-19T03:02:41.658Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1755.589136ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1755.589136ms"}}
[debug] [2023-10-19T03:02:41.660Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: IDLE"}}
[debug] [2023-10-19T03:02:41.660Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:02:41.661Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:02:41.661Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:02:37.854Z"],"workRunningCount":1}
[debug] [2023-10-19T03:02:41.712Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1713.0833ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1713.0833ms"}}
[debug] [2023-10-19T03:02:41.714Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: IDLE"}}
[debug] [2023-10-19T03:02:41.715Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:02:41.715Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:02:41.716Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:03:36.536Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.536Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:03:36.536Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.536Z"],"workRunningCount":1}
[debug] [2023-10-19T03:03:36.536Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=120095 --> us-central1-api
[debug] [2023-10-19T03:03:36.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:03:36.542Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=120095, mapping to path=/payments/create?total=120095 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=120095, mapping to path=/payments/create?total=120095"}}
[debug] [2023-10-19T03:03:36.543Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:03:36.543Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: BUSY"}}
[debug] [2023-10-19T03:03:36.547Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.547Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.536Z"],"workRunningCount":1}
[debug] [2023-10-19T03:03:36.548Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.536Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.547Z"],"workRunningCount":2}
[debug] [2023-10-19T03:03:36.548Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=120095 --> us-central1-api
[debug] [2023-10-19T03:03:36.551Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:03:36.551Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=120095, mapping to path=/payments/create?total=120095 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=120095, mapping to path=/payments/create?total=120095"}}
[debug] [2023-10-19T03:03:36.551Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:03:36.551Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  120095 {"user":"Payment Request Recieved for this amount >>>  120095","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  120095"}}
[info] >  Payment Request Recieved for this amount >>>  120095 {"user":"Payment Request Recieved for this amount >>>  120095","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  120095"}}
[debug] [2023-10-19T03:03:37.325Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 783.012496ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 783.012496ms"}}
[debug] [2023-10-19T03:03:37.328Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: IDLE"}}
[debug] [2023-10-19T03:03:37.329Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:03:37.330Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:03:37.330Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:36.547Z"],"workRunningCount":1}
[debug] [2023-10-19T03:03:37.369Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 817.847647ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 817.847647ms"}}
[debug] [2023-10-19T03:03:37.370Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: IDLE"}}
[debug] [2023-10-19T03:03:37.371Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:03:37.371Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:03:37.372Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:03:46.145Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.145Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:03:46.145Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.145Z"],"workRunningCount":1}
[debug] [2023-10-19T03:03:46.145Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:03:46.148Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:03:46.148Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T03:03:46.148Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:03:46.149Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: BUSY"}}
[debug] [2023-10-19T03:03:46.152Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.152Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.145Z"],"workRunningCount":1}
[debug] [2023-10-19T03:03:46.152Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.145Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.152Z"],"workRunningCount":2}
[debug] [2023-10-19T03:03:46.152Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:03:46.154Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:03:46.155Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T03:03:46.155Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:03:46.155Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_Z3H6xXEhgUluuE?t=1697684626', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_Z3H6xXEhgUluuE?t=1697684626',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_Z3H6xXEhgUluuE?t=1697684626',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:03:46 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:03:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:03:46 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-6c862ec2-f248-4eb6-8358-d6318ecf9094', {"user":"      'idempotency-key': 'stripe-node-retry-6c862ec2-f248-4eb6-8358-d6318ecf9094',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-6c862ec2-f248-4eb6-8358-d6318ecf9094',"}}
[info] >        'original-request': 'req_Z3H6xXEhgUluuE', {"user":"      'original-request': 'req_Z3H6xXEhgUluuE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_Z3H6xXEhgUluuE',"}}
[info] >        'request-id': 'req_Z3H6xXEhgUluuE', {"user":"      'request-id': 'req_Z3H6xXEhgUluuE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Z3H6xXEhgUluuE',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_Z3H6xXEhgUluuE' {"user":"    requestId: 'req_Z3H6xXEhgUluuE'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Z3H6xXEhgUluuE'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:03:46 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:03:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:03:46 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-6c862ec2-f248-4eb6-8358-d6318ecf9094', {"user":"    'idempotency-key': 'stripe-node-retry-6c862ec2-f248-4eb6-8358-d6318ecf9094',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-6c862ec2-f248-4eb6-8358-d6318ecf9094',"}}
[info] >      'original-request': 'req_Z3H6xXEhgUluuE', {"user":"    'original-request': 'req_Z3H6xXEhgUluuE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_Z3H6xXEhgUluuE',"}}
[info] >      'request-id': 'req_Z3H6xXEhgUluuE', {"user":"    'request-id': 'req_Z3H6xXEhgUluuE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Z3H6xXEhgUluuE',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Z3H6xXEhgUluuE', {"user":"  requestId: 'req_Z3H6xXEhgUluuE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Z3H6xXEhgUluuE',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:03:46.932Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:03:46.145Z"],"workRunningCount":1}
[debug] [2023-10-19T03:03:46.933Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: exited"}}
[debug] [2023-10-19T03:03:46.933Z] [worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-169693d9-64a0-4e7f-bc33-b6d62a36dd9d]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_vrSbw1eIGL9n0Y?t=1697684626', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_vrSbw1eIGL9n0Y?t=1697684626',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_vrSbw1eIGL9n0Y?t=1697684626',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:03:46 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:03:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:03:46 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-acaa6f6d-3e7f-49cd-a80b-583fcf4dd8c6', {"user":"      'idempotency-key': 'stripe-node-retry-acaa6f6d-3e7f-49cd-a80b-583fcf4dd8c6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-acaa6f6d-3e7f-49cd-a80b-583fcf4dd8c6',"}}
[info] >        'original-request': 'req_vrSbw1eIGL9n0Y', {"user":"      'original-request': 'req_vrSbw1eIGL9n0Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_vrSbw1eIGL9n0Y',"}}
[info] >        'request-id': 'req_vrSbw1eIGL9n0Y', {"user":"      'request-id': 'req_vrSbw1eIGL9n0Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_vrSbw1eIGL9n0Y',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_vrSbw1eIGL9n0Y' {"user":"    requestId: 'req_vrSbw1eIGL9n0Y'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_vrSbw1eIGL9n0Y'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:03:46 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:03:46 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:03:46 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-acaa6f6d-3e7f-49cd-a80b-583fcf4dd8c6', {"user":"    'idempotency-key': 'stripe-node-retry-acaa6f6d-3e7f-49cd-a80b-583fcf4dd8c6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-acaa6f6d-3e7f-49cd-a80b-583fcf4dd8c6',"}}
[info] >      'original-request': 'req_vrSbw1eIGL9n0Y', {"user":"    'original-request': 'req_vrSbw1eIGL9n0Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_vrSbw1eIGL9n0Y',"}}
[info] >      'request-id': 'req_vrSbw1eIGL9n0Y', {"user":"    'request-id': 'req_vrSbw1eIGL9n0Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_vrSbw1eIGL9n0Y',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_vrSbw1eIGL9n0Y', {"user":"  requestId: 'req_vrSbw1eIGL9n0Y',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_vrSbw1eIGL9n0Y',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:03:48.250Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:03:48.251Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: exited"}}
[debug] [2023-10-19T03:03:48.251Z] [worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-5c217b35-6482-416f-a323-33a982b9346e]: FINISHED"}}
[debug] [2023-10-19T03:07:35.322Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.322Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:07:35.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.322Z"],"workRunningCount":1}
[debug] [2023-10-19T03:07:35.323Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=29999 --> us-central1-api
[debug] [2023-10-19T03:07:35.327Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:07:35.327Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999"}}
[debug] [2023-10-19T03:07:35.328Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:07:35.348Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:07:35.349Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:07:35.354Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.353Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.322Z"],"workRunningCount":1}
[debug] [2023-10-19T03:07:35.354Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.322Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.353Z"],"workRunningCount":2}
[debug] [2023-10-19T03:07:35.354Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=29999 --> us-central1-api
[debug] [2023-10-19T03:07:35.370Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:07:35.370Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999"}}
[debug] [2023-10-19T03:07:35.397Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:07:35.398Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:07:37.903Z] [runtime-status] [31967] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:07:37.905Z] [runtime-status] [31967] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:37.909Z] [runtime-status] [31967] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:07:37.914Z] [runtime-status] [31967] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.121Z] [runtime-status] [31969] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:07:38.131Z] [runtime-status] [31969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.131Z] [runtime-status] [31969] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:07:38.137Z] [runtime-status] [31969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.356Z] [runtime-status] [31967] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:07:38.357Z] [runtime-status] [31967] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:07:38.363Z] [runtime-status] [31967] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.369Z] [runtime-status] [31967] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:07:38.374Z] [runtime-status] [31967] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.376Z] [runtime-status] [31967] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:07:38.557Z] [runtime-status] [31969] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:07:38.563Z] [runtime-status] [31969] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:07:38.563Z] [runtime-status] [31969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.564Z] [runtime-status] [31969] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:07:38.567Z] [runtime-status] [31969] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:07:38.568Z] [runtime-status] [31969] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:07:38.652Z] [runtime-status] [31967] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:07:38.653Z] [runtime-status] [31967] Listening to port: /tmp/fire_emu_37d53c5795def246.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31967] Listening to port: /tmp/fire_emu_37d53c5795def246.sock"}}
[debug] [2023-10-19T03:07:38.738Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:07:38.739Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:07:38.741Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  29999 {"user":"Payment Request Recieved for this amount >>>  29999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  29999"}}
[debug] [2023-10-19T03:07:38.770Z] [runtime-status] [31969] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:07:38.771Z] [runtime-status] [31969] Listening to port: /tmp/fire_emu_58bf1c1420295a28.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31969] Listening to port: /tmp/fire_emu_58bf1c1420295a28.sock"}}
[debug] [2023-10-19T03:07:38.811Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE"}}
[debug] [2023-10-19T03:07:38.811Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:07:38.812Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  29999 {"user":"Payment Request Recieved for this amount >>>  29999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  29999"}}
[debug] [2023-10-19T03:07:40.482Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1741.4077590000002ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1741.4077590000002ms"}}
[debug] [2023-10-19T03:07:40.483Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:07:40.483Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:07:40.483Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:07:40.484Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:07:35.353Z"],"workRunningCount":1}
[debug] [2023-10-19T03:07:40.536Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1724.5573490000002ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1724.5573490000002ms"}}
[debug] [2023-10-19T03:07:40.538Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE"}}
[debug] [2023-10-19T03:07:40.538Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:07:40.539Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:07:40.539Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:20:59.444Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:20:59.444Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:20:59.445Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:20:59.444Z"],"workRunningCount":1}
[debug] [2023-10-19T03:20:59.445Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=29999 --> us-central1-api
[debug] [2023-10-19T03:20:59.449Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:20:59.450Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=29999, mapping to path=/payments/create?total=29999"}}
[debug] [2023-10-19T03:20:59.450Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:20:59.452Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  29999 {"user":"Payment Request Recieved for this amount >>>  29999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  29999"}}
[debug] [2023-10-19T03:21:01.110Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1659.919824ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1659.919824ms"}}
[debug] [2023-10-19T03:21:01.115Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:21:01.115Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:21:01.116Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:21:01.116Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:21:23.667Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.667Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:21:23.668Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.667Z"],"workRunningCount":1}
[debug] [2023-10-19T03:21:23.668Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=249550 --> us-central1-api
[debug] [2023-10-19T03:21:23.681Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:21:23.682Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=249550, mapping to path=/payments/create?total=249550 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=249550, mapping to path=/payments/create?total=249550"}}
[debug] [2023-10-19T03:21:23.683Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:21:23.687Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[debug] [2023-10-19T03:21:23.700Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.700Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.667Z"],"workRunningCount":1}
[debug] [2023-10-19T03:21:23.701Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.667Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.700Z"],"workRunningCount":2}
[debug] [2023-10-19T03:21:23.701Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=249550 --> us-central1-api
[debug] [2023-10-19T03:21:23.717Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:21:23.718Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=249550, mapping to path=/payments/create?total=249550 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=249550, mapping to path=/payments/create?total=249550"}}
[debug] [2023-10-19T03:21:23.718Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:21:23.719Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  249550 {"user":"Payment Request Recieved for this amount >>>  249550","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  249550"}}
[info] >  Payment Request Recieved for this amount >>>  249550 {"user":"Payment Request Recieved for this amount >>>  249550","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  249550"}}
[debug] [2023-10-19T03:21:24.478Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 791.501906ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 791.501906ms"}}
[debug] [2023-10-19T03:21:24.479Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:21:24.479Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:21:24.480Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:21:24.481Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:21:23.700Z"],"workRunningCount":1}
[debug] [2023-10-19T03:21:25.376Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1657.8758309999998ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1657.8758309999998ms"}}
[debug] [2023-10-19T03:21:25.379Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE"}}
[debug] [2023-10-19T03:21:25.381Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:21:25.381Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:21:25.382Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:31:19.222Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:19.222Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:31:19.222Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:19.222Z"],"workRunningCount":1}
[debug] [2023-10-19T03:31:19.222Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=249550 --> us-central1-api
[debug] [2023-10-19T03:31:19.228Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:31:19.229Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=249550, mapping to path=/payments/create?total=249550 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=249550, mapping to path=/payments/create?total=249550"}}
[debug] [2023-10-19T03:31:19.229Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:31:19.229Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  249550 {"user":"Payment Request Recieved for this amount >>>  249550","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  249550"}}
[debug] [2023-10-19T03:31:21.046Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1817.465481ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1817.465481ms"}}
[debug] [2023-10-19T03:31:21.049Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:31:21.049Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:31:21.050Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:31:21.051Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:31:49.723Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.723Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:31:49.725Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.723Z"],"workRunningCount":1}
[debug] [2023-10-19T03:31:49.753Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=262509 --> us-central1-api
[debug] [2023-10-19T03:31:49.763Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:31:49.763Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=262509, mapping to path=/payments/create?total=262509 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=262509, mapping to path=/payments/create?total=262509"}}
[debug] [2023-10-19T03:31:49.764Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:31:49.765Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  262509 {"user":"Payment Request Recieved for this amount >>>  262509","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  262509"}}
[debug] [2023-10-19T03:31:49.786Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.786Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.723Z"],"workRunningCount":1}
[debug] [2023-10-19T03:31:49.787Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.723Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.786Z"],"workRunningCount":2}
[debug] [2023-10-19T03:31:49.787Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=262509 --> us-central1-api
[debug] [2023-10-19T03:31:49.793Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:31:49.794Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=262509, mapping to path=/payments/create?total=262509 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=262509, mapping to path=/payments/create?total=262509"}}
[debug] [2023-10-19T03:31:49.794Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:31:49.794Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  262509 {"user":"Payment Request Recieved for this amount >>>  262509","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  262509"}}
[debug] [2023-10-19T03:31:50.526Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 761.344797ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 761.344797ms"}}
[debug] [2023-10-19T03:31:50.527Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:31:50.527Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:31:50.527Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:31:50.527Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:31:49.786Z"],"workRunningCount":1}
[debug] [2023-10-19T03:31:51.398Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1604.969458ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1604.969458ms"}}
[debug] [2023-10-19T03:31:51.401Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE"}}
[debug] [2023-10-19T03:31:51.401Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:31:51.402Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:31:51.402Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:32:36.229Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:32:36.229Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:32:36.230Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:32:36.229Z"],"workRunningCount":1}
[debug] [2023-10-19T03:32:36.230Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=262509 --> us-central1-api
[debug] [2023-10-19T03:32:36.233Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:32:36.234Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=262509, mapping to path=/payments/create?total=262509 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=262509, mapping to path=/payments/create?total=262509"}}
[debug] [2023-10-19T03:32:36.234Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:32:36.234Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  262509 {"user":"Payment Request Recieved for this amount >>>  262509","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  262509"}}
[debug] [2023-10-19T03:32:37.013Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 779.413262ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 779.413262ms"}}
[debug] [2023-10-19T03:32:37.014Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:32:37.014Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:32:37.014Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:32:37.014Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:33:09.674Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.674Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:33:09.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.674Z"],"workRunningCount":1}
[debug] [2023-10-19T03:33:09.674Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=44994 --> us-central1-api
[debug] [2023-10-19T03:33:09.678Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:33:09.679Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=44994, mapping to path=/payments/create?total=44994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=44994, mapping to path=/payments/create?total=44994"}}
[debug] [2023-10-19T03:33:09.679Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:33:09.680Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[debug] [2023-10-19T03:33:09.693Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.693Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.674Z"],"workRunningCount":1}
[debug] [2023-10-19T03:33:09.694Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.674Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.693Z"],"workRunningCount":2}
[debug] [2023-10-19T03:33:09.694Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=44994 --> us-central1-api
[debug] [2023-10-19T03:33:09.698Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:33:09.698Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=44994, mapping to path=/payments/create?total=44994 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=44994, mapping to path=/payments/create?total=44994"}}
[debug] [2023-10-19T03:33:09.698Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:33:09.699Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  44994 {"user":"Payment Request Recieved for this amount >>>  44994","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  44994"}}
[info] >  Payment Request Recieved for this amount >>>  44994 {"user":"Payment Request Recieved for this amount >>>  44994","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  44994"}}
[debug] [2023-10-19T03:33:10.443Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 763.567605ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 763.567605ms"}}
[debug] [2023-10-19T03:33:10.444Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: IDLE"}}
[debug] [2023-10-19T03:33:10.444Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:33:10.445Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:33:10.445Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:09.693Z"],"workRunningCount":1}
[debug] [2023-10-19T03:33:11.323Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1625.1268209999998ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1625.1268209999998ms"}}
[debug] [2023-10-19T03:33:11.325Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: IDLE"}}
[debug] [2023-10-19T03:33:11.326Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:33:11.327Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:33:11.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:33:50.834Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.834Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:33:50.836Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.834Z"],"workRunningCount":1}
[debug] [2023-10-19T03:33:50.836Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:33:50.850Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:33:50.851Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T03:33:50.851Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:33:50.853Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: BUSY"}}
[debug] [2023-10-19T03:33:50.864Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.864Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.834Z"],"workRunningCount":1}
[debug] [2023-10-19T03:33:50.865Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.834Z","/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.864Z"],"workRunningCount":2}
[debug] [2023-10-19T03:33:50.866Z] Accepted request POST /shop-kings/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:33:50.884Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:33:50.885Z] [functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2023-10-19T03:33:50.885Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:33:50.886Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_hQoiQ3dX6MeLJj?t=1697686431', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_hQoiQ3dX6MeLJj?t=1697686431',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_hQoiQ3dX6MeLJj?t=1697686431',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:33:51 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:33:51 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:33:51 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-8175749e-f163-45c4-9486-5228296c50ad', {"user":"      'idempotency-key': 'stripe-node-retry-8175749e-f163-45c4-9486-5228296c50ad',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-8175749e-f163-45c4-9486-5228296c50ad',"}}
[info] >        'original-request': 'req_hQoiQ3dX6MeLJj', {"user":"      'original-request': 'req_hQoiQ3dX6MeLJj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_hQoiQ3dX6MeLJj',"}}
[info] >        'request-id': 'req_hQoiQ3dX6MeLJj', {"user":"      'request-id': 'req_hQoiQ3dX6MeLJj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_hQoiQ3dX6MeLJj',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_hQoiQ3dX6MeLJj' {"user":"    requestId: 'req_hQoiQ3dX6MeLJj'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_hQoiQ3dX6MeLJj'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:33:51 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:33:51 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:33:51 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-8175749e-f163-45c4-9486-5228296c50ad', {"user":"    'idempotency-key': 'stripe-node-retry-8175749e-f163-45c4-9486-5228296c50ad',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-8175749e-f163-45c4-9486-5228296c50ad',"}}
[info] >      'original-request': 'req_hQoiQ3dX6MeLJj', {"user":"    'original-request': 'req_hQoiQ3dX6MeLJj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_hQoiQ3dX6MeLJj',"}}
[info] >      'request-id': 'req_hQoiQ3dX6MeLJj', {"user":"    'request-id': 'req_hQoiQ3dX6MeLJj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_hQoiQ3dX6MeLJj',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_hQoiQ3dX6MeLJj', {"user":"  requestId: 'req_hQoiQ3dX6MeLJj',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_hQoiQ3dX6MeLJj',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:33:51.619Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payments/create-2023-10-19T03:33:50.864Z"],"workRunningCount":1}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_l0zKLM5Pc5YbAB?t=1697686431', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_l0zKLM5Pc5YbAB?t=1697686431',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_l0zKLM5Pc5YbAB?t=1697686431',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:33:51 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:33:51 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:33:51 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-28760139-b72f-4887-ab5e-8e2193a73c2c', {"user":"      'idempotency-key': 'stripe-node-retry-28760139-b72f-4887-ab5e-8e2193a73c2c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-28760139-b72f-4887-ab5e-8e2193a73c2c',"}}
[info] >        'original-request': 'req_l0zKLM5Pc5YbAB', {"user":"      'original-request': 'req_l0zKLM5Pc5YbAB',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_l0zKLM5Pc5YbAB',"}}
[info] >        'request-id': 'req_l0zKLM5Pc5YbAB', {"user":"      'request-id': 'req_l0zKLM5Pc5YbAB',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_l0zKLM5Pc5YbAB',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_l0zKLM5Pc5YbAB' {"user":"    requestId: 'req_l0zKLM5Pc5YbAB'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_l0zKLM5Pc5YbAB'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:33:51 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:33:51 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:33:51 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-28760139-b72f-4887-ab5e-8e2193a73c2c', {"user":"    'idempotency-key': 'stripe-node-retry-28760139-b72f-4887-ab5e-8e2193a73c2c',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-28760139-b72f-4887-ab5e-8e2193a73c2c',"}}
[info] >      'original-request': 'req_l0zKLM5Pc5YbAB', {"user":"    'original-request': 'req_l0zKLM5Pc5YbAB',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_l0zKLM5Pc5YbAB',"}}
[info] >      'request-id': 'req_l0zKLM5Pc5YbAB', {"user":"    'request-id': 'req_l0zKLM5Pc5YbAB',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_l0zKLM5Pc5YbAB',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_l0zKLM5Pc5YbAB', {"user":"  requestId: 'req_l0zKLM5Pc5YbAB',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_l0zKLM5Pc5YbAB',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[debug] [2023-10-19T03:33:51.678Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: exited"}}
[debug] [2023-10-19T03:33:51.678Z] [worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bdbcbb46-cf6c-4995-a892-6a3c6cb261a4]: FINISHED"}}
[debug] [2023-10-19T03:33:51.679Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: exited"}}
[debug] [2023-10-19T03:33:51.679Z] [worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-552bd095-96ea-4a1e-b824-64eb2aacffb6]: FINISHED"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:33:51.684Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:35:49.361Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:35:49.361Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:35:49.361Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:35:49.361Z"],"workRunningCount":1}
[debug] [2023-10-19T03:35:49.361Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:35:49.365Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:35:49.366Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:35:49.366Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:35:49.385Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:35:49.386Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:35:51.163Z] [runtime-status] [33050] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:35:51.165Z] [runtime-status] [33050] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:35:51.169Z] [runtime-status] [33050] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:35:51.170Z] [runtime-status] [33050] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:35:51.959Z] [runtime-status] [33050] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:35:51.959Z] [runtime-status] [33050] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:35:51.972Z] [runtime-status] [33050] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:35:51.972Z] [runtime-status] [33050] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:35:51.972Z] [runtime-status] [33050] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:35:51.972Z] [runtime-status] [33050] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:35:52.800Z] [runtime-status] [33050] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:35:52.801Z] [runtime-status] [33050] Listening to port: /tmp/fire_emu_eb4825006342fab8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33050] Listening to port: /tmp/fire_emu_eb4825006342fab8.sock"}}
[debug] [2023-10-19T03:35:52.867Z] [worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: IDLE"}}
[debug] [2023-10-19T03:35:52.868Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:35:52.869Z] [worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: BUSY"}}
[debug] [2023-10-19T03:35:52.891Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 22.802682ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 22.802682ms"}}
[debug] [2023-10-19T03:35:52.892Z] [worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: IDLE"}}
[debug] [2023-10-19T03:35:52.893Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:35:52.893Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:35:52.893Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:35:55.899Z] File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-19T03:35:56.901Z] Validating nodejs source
[debug] [2023-10-19T03:36:06.922Z] checkFunctionsSDKVersion was unable to fetch information from NPM Error: spawnSync npm ETIMEDOUT
    at Object.spawnSync (node:internal/child_process:1110:20)
    at Object.spawnSync (node:child_process:871:24)
    at Function.spawnSync [as sync] (/usr/lib/node_modules/firebase-tools/node_modules/cross-spawn/index.js:26:23)
    at Object.getLatestSDKVersion (/usr/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js:54:25)
    at Object.checkFunctionsSDKVersion (/usr/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js:74:32)
    at Delegate.validate (/usr/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:84:20)
    at FunctionsEmulator.discoverTriggers (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulator.js:296:35)
    at async FunctionsEmulator.loadTriggers (/usr/lib/node_modules/firebase-tools/lib/emulator/functionsEmulator.js:325:34)
[debug] [2023-10-19T03:36:06.923Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T03:36:06.924Z] Building nodejs source
[debug] [2023-10-19T03:36:06.924Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T03:36:06.925Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T03:36:06.927Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8603

[debug] [2023-10-19T03:36:07.452Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-10-19T03:36:07.467Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-10-19T03:36:07.467Z] [worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: FINISHING"}}
[debug] [2023-10-19T03:36:07.479Z] [worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: exited"}}
[debug] [2023-10-19T03:36:07.479Z] [worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6763097f-45c7-4f01-83a3-e6203b5ef9f3]: FINISHED"}}
[debug] [2023-10-19T03:36:16.307Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.307Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:36:16.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.307Z"],"workRunningCount":1}
[debug] [2023-10-19T03:36:16.308Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:36:16.313Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:36:16.314Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:36:16.314Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2023-10-19T03:36:16.334Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:36:16.335Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:36:16.348Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.348Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.307Z"],"workRunningCount":1}
[debug] [2023-10-19T03:36:16.348Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.307Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.348Z"],"workRunningCount":2}
[debug] [2023-10-19T03:36:16.350Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:36:16.355Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:36:16.355Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:36:16.380Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:36:16.380Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:36:18.814Z] [runtime-status] [33142] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:36:18.822Z] [runtime-status] [33142] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:18.822Z] [runtime-status] [33142] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:36:18.825Z] [runtime-status] [33142] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:18.972Z] [runtime-status] [33143] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:36:18.973Z] [runtime-status] [33143] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:18.973Z] [runtime-status] [33143] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:36:18.973Z] [runtime-status] [33143] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:19.273Z] [runtime-status] [33142] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:36:19.276Z] [runtime-status] [33142] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:36:19.281Z] [runtime-status] [33142] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:19.281Z] [runtime-status] [33142] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:36:19.293Z] [runtime-status] [33142] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:19.293Z] [runtime-status] [33142] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:36:19.413Z] [runtime-status] [33143] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:36:19.414Z] [runtime-status] [33143] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:36:19.415Z] [runtime-status] [33143] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:19.429Z] [runtime-status] [33143] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:36:19.434Z] [runtime-status] [33143] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:36:19.442Z] [runtime-status] [33143] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:36:19.567Z] [runtime-status] [33142] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:36:19.570Z] [runtime-status] [33142] Listening to port: /tmp/fire_emu_96e3e8a8e4089a98.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33142] Listening to port: /tmp/fire_emu_96e3e8a8e4089a98.sock"}}
[debug] [2023-10-19T03:36:19.609Z] [worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: IDLE"}}
[debug] [2023-10-19T03:36:19.609Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:36:19.611Z] [worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:36:19.760Z] [runtime-status] [33143] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:36:19.761Z] [runtime-status] [33143] Listening to port: /tmp/fire_emu_eb4f607be86a7c86.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33143] Listening to port: /tmp/fire_emu_eb4f607be86a7c86.sock"}}
[debug] [2023-10-19T03:36:19.868Z] [worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: IDLE"}}
[debug] [2023-10-19T03:36:19.870Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:36:19.871Z] [worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_6FwP8j93cZGCZN?t=1697686581', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_6FwP8j93cZGCZN?t=1697686581',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_6FwP8j93cZGCZN?t=1697686581',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:36:21 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:36:21 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:36:21 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-9c393ed3-9e1a-4cd2-8772-3a8730174f79', {"user":"      'idempotency-key': 'stripe-node-retry-9c393ed3-9e1a-4cd2-8772-3a8730174f79',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-9c393ed3-9e1a-4cd2-8772-3a8730174f79',"}}
[info] >        'original-request': 'req_6FwP8j93cZGCZN', {"user":"      'original-request': 'req_6FwP8j93cZGCZN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_6FwP8j93cZGCZN',"}}
[info] >        'request-id': 'req_6FwP8j93cZGCZN', {"user":"      'request-id': 'req_6FwP8j93cZGCZN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_6FwP8j93cZGCZN',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_6FwP8j93cZGCZN' {"user":"    requestId: 'req_6FwP8j93cZGCZN'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_6FwP8j93cZGCZN'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:36:21 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:36:21 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:36:21 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-9c393ed3-9e1a-4cd2-8772-3a8730174f79', {"user":"    'idempotency-key': 'stripe-node-retry-9c393ed3-9e1a-4cd2-8772-3a8730174f79',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-9c393ed3-9e1a-4cd2-8772-3a8730174f79',"}}
[info] >      'original-request': 'req_6FwP8j93cZGCZN', {"user":"    'original-request': 'req_6FwP8j93cZGCZN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_6FwP8j93cZGCZN',"}}
[info] >      'request-id': 'req_6FwP8j93cZGCZN', {"user":"    'request-id': 'req_6FwP8j93cZGCZN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_6FwP8j93cZGCZN',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_6FwP8j93cZGCZN', {"user":"  requestId: 'req_6FwP8j93cZGCZN',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_6FwP8j93cZGCZN',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:36:21.493Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:36:16.348Z"],"workRunningCount":1}
[debug] [2023-10-19T03:36:21.495Z] [worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: exited"}}
[debug] [2023-10-19T03:36:21.495Z] [worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-09e18820-44e0-44ff-9eb8-e3dd8ba24f4f]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_mGanhrJWXymzwS?t=1697686581', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_mGanhrJWXymzwS?t=1697686581',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_mGanhrJWXymzwS?t=1697686581',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:36:21 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:36:21 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:36:21 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-fb87e7ca-5ad8-4cb5-a4c9-5cb5c9b08204', {"user":"      'idempotency-key': 'stripe-node-retry-fb87e7ca-5ad8-4cb5-a4c9-5cb5c9b08204',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-fb87e7ca-5ad8-4cb5-a4c9-5cb5c9b08204',"}}
[info] >        'original-request': 'req_mGanhrJWXymzwS', {"user":"      'original-request': 'req_mGanhrJWXymzwS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_mGanhrJWXymzwS',"}}
[info] >        'request-id': 'req_mGanhrJWXymzwS', {"user":"      'request-id': 'req_mGanhrJWXymzwS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_mGanhrJWXymzwS',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_mGanhrJWXymzwS' {"user":"    requestId: 'req_mGanhrJWXymzwS'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_mGanhrJWXymzwS'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:36:21 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:36:21 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:36:21 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-fb87e7ca-5ad8-4cb5-a4c9-5cb5c9b08204', {"user":"    'idempotency-key': 'stripe-node-retry-fb87e7ca-5ad8-4cb5-a4c9-5cb5c9b08204',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-fb87e7ca-5ad8-4cb5-a4c9-5cb5c9b08204',"}}
[info] >      'original-request': 'req_mGanhrJWXymzwS', {"user":"    'original-request': 'req_mGanhrJWXymzwS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_mGanhrJWXymzwS',"}}
[info] >      'request-id': 'req_mGanhrJWXymzwS', {"user":"    'request-id': 'req_mGanhrJWXymzwS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_mGanhrJWXymzwS',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_mGanhrJWXymzwS', {"user":"  requestId: 'req_mGanhrJWXymzwS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_mGanhrJWXymzwS',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:36:21.576Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:36:21.578Z] [worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: exited"}}
[debug] [2023-10-19T03:36:21.578Z] [worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ab64bd6b-9562-4d6b-ae49-adb292c97ebe]: FINISHED"}}
[debug] [2023-10-19T03:37:43.274Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.274Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:37:43.274Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.274Z"],"workRunningCount":1}
[debug] [2023-10-19T03:37:43.274Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:37:43.280Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:37:43.280Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:37:43.280Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:37:43.300Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:37:43.300Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:37:43.303Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.303Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.274Z"],"workRunningCount":1}
[debug] [2023-10-19T03:37:43.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.274Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.303Z"],"workRunningCount":2}
[debug] [2023-10-19T03:37:43.304Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:37:43.307Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:37:43.308Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:37:43.323Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:37:43.324Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:37:45.665Z] [runtime-status] [33226] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:37:45.672Z] [runtime-status] [33226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:45.672Z] [runtime-status] [33226] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:37:45.672Z] [runtime-status] [33220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:37:45.673Z] [runtime-status] [33220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:45.673Z] [runtime-status] [33226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:45.674Z] [runtime-status] [33220] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:37:45.697Z] [runtime-status] [33220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:46.093Z] [runtime-status] [33226] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:37:46.097Z] [runtime-status] [33226] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:37:46.098Z] [runtime-status] [33226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:46.102Z] [runtime-status] [33226] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:37:46.103Z] [runtime-status] [33226] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:46.104Z] [runtime-status] [33226] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:37:46.179Z] [runtime-status] [33220] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:37:46.180Z] [runtime-status] [33220] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:37:46.189Z] [runtime-status] [33220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:46.191Z] [runtime-status] [33220] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:37:46.191Z] [runtime-status] [33220] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:37:46.191Z] [runtime-status] [33220] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:37:46.360Z] [runtime-status] [33226] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:37:46.364Z] [runtime-status] [33226] Listening to port: /tmp/fire_emu_f84f99a174448d3f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33226] Listening to port: /tmp/fire_emu_f84f99a174448d3f.sock"}}
[debug] [2023-10-19T03:37:46.395Z] [runtime-status] [33220] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:37:46.396Z] [runtime-status] [33220] Listening to port: /tmp/fire_emu_fb7dee7dd71fae9c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33220] Listening to port: /tmp/fire_emu_fb7dee7dd71fae9c.sock"}}
[debug] [2023-10-19T03:37:46.418Z] [worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: IDLE"}}
[debug] [2023-10-19T03:37:46.419Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:37:46.419Z] [worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:37:46.492Z] [worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: IDLE"}}
[debug] [2023-10-19T03:37:46.493Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:37:46.493Z] [worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_G8ouReTR9xrhvh?t=1697686667', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_G8ouReTR9xrhvh?t=1697686667',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_G8ouReTR9xrhvh?t=1697686667',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:37:47 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:37:47 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:37:47 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-2f2eccb0-b1f0-4547-b8d6-b246cd81afc7', {"user":"      'idempotency-key': 'stripe-node-retry-2f2eccb0-b1f0-4547-b8d6-b246cd81afc7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-2f2eccb0-b1f0-4547-b8d6-b246cd81afc7',"}}
[info] >        'original-request': 'req_G8ouReTR9xrhvh', {"user":"      'original-request': 'req_G8ouReTR9xrhvh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_G8ouReTR9xrhvh',"}}
[info] >        'request-id': 'req_G8ouReTR9xrhvh', {"user":"      'request-id': 'req_G8ouReTR9xrhvh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_G8ouReTR9xrhvh',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_G8ouReTR9xrhvh' {"user":"    requestId: 'req_G8ouReTR9xrhvh'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_G8ouReTR9xrhvh'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:37:47 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:37:47 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:37:47 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-2f2eccb0-b1f0-4547-b8d6-b246cd81afc7', {"user":"    'idempotency-key': 'stripe-node-retry-2f2eccb0-b1f0-4547-b8d6-b246cd81afc7',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-2f2eccb0-b1f0-4547-b8d6-b246cd81afc7',"}}
[info] >      'original-request': 'req_G8ouReTR9xrhvh', {"user":"    'original-request': 'req_G8ouReTR9xrhvh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_G8ouReTR9xrhvh',"}}
[info] >      'request-id': 'req_G8ouReTR9xrhvh', {"user":"    'request-id': 'req_G8ouReTR9xrhvh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_G8ouReTR9xrhvh',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_G8ouReTR9xrhvh', {"user":"  requestId: 'req_G8ouReTR9xrhvh',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_G8ouReTR9xrhvh',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:37:48.130Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:37:43.274Z"],"workRunningCount":1}
[debug] [2023-10-19T03:37:48.131Z] [worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: exited"}}
[debug] [2023-10-19T03:37:48.131Z] [worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3acb27ef-76d5-4f51-8b6b-cc802d21b2d8]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_sMuWpFqMkCTqy1?t=1697686667', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_sMuWpFqMkCTqy1?t=1697686667',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_sMuWpFqMkCTqy1?t=1697686667',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:37:47 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:37:47 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:37:47 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-93c97836-ef19-4034-aa9c-8ae66adddb9f', {"user":"      'idempotency-key': 'stripe-node-retry-93c97836-ef19-4034-aa9c-8ae66adddb9f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-93c97836-ef19-4034-aa9c-8ae66adddb9f',"}}
[info] >        'original-request': 'req_sMuWpFqMkCTqy1', {"user":"      'original-request': 'req_sMuWpFqMkCTqy1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_sMuWpFqMkCTqy1',"}}
[info] >        'request-id': 'req_sMuWpFqMkCTqy1', {"user":"      'request-id': 'req_sMuWpFqMkCTqy1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_sMuWpFqMkCTqy1',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_sMuWpFqMkCTqy1' {"user":"    requestId: 'req_sMuWpFqMkCTqy1'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_sMuWpFqMkCTqy1'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:37:47 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:37:47 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:37:47 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-93c97836-ef19-4034-aa9c-8ae66adddb9f', {"user":"    'idempotency-key': 'stripe-node-retry-93c97836-ef19-4034-aa9c-8ae66adddb9f',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-93c97836-ef19-4034-aa9c-8ae66adddb9f',"}}
[info] >      'original-request': 'req_sMuWpFqMkCTqy1', {"user":"    'original-request': 'req_sMuWpFqMkCTqy1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_sMuWpFqMkCTqy1',"}}
[info] >      'request-id': 'req_sMuWpFqMkCTqy1', {"user":"    'request-id': 'req_sMuWpFqMkCTqy1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_sMuWpFqMkCTqy1',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_sMuWpFqMkCTqy1', {"user":"  requestId: 'req_sMuWpFqMkCTqy1',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_sMuWpFqMkCTqy1',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:37:48.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:37:48.208Z] [worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: exited"}}
[debug] [2023-10-19T03:37:48.208Z] [worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-b8ff313e-4d5d-405b-89e2-c30d056cccf3]: FINISHED"}}
[debug] [2023-10-19T03:44:15.977Z] File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-19T03:44:16.978Z] Validating nodejs source
[debug] [2023-10-19T03:44:19.601Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T03:44:19.601Z] Building nodejs source
[debug] [2023-10-19T03:44:19.601Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T03:44:19.604Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T03:44:19.607Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8412

[debug] [2023-10-19T03:44:20.196Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-10-19T03:44:28.595Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.595Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:44:28.595Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.595Z"],"workRunningCount":1}
[debug] [2023-10-19T03:44:28.596Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:44:28.601Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:44:28.601Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:44:28.601Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:44:28.614Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:44:28.614Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:44:28.616Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.616Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.595Z"],"workRunningCount":1}
[debug] [2023-10-19T03:44:28.617Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.595Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.616Z"],"workRunningCount":2}
[debug] [2023-10-19T03:44:28.617Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:44:28.620Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:44:28.620Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:44:28.647Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:44:28.648Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:44:30.538Z] [runtime-status] [33543] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:44:30.539Z] [runtime-status] [33543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:30.539Z] [runtime-status] [33543] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:44:30.548Z] [runtime-status] [33543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:30.824Z] [runtime-status] [33537] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:44:30.828Z] [runtime-status] [33537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:30.832Z] [runtime-status] [33537] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:44:30.832Z] [runtime-status] [33537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:31.075Z] [runtime-status] [33543] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:44:31.076Z] [runtime-status] [33543] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:44:31.079Z] [runtime-status] [33543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:31.097Z] [runtime-status] [33543] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:44:31.097Z] [runtime-status] [33543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:31.097Z] [runtime-status] [33543] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:44:31.277Z] [runtime-status] [33537] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:44:31.278Z] [runtime-status] [33537] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:44:31.285Z] [runtime-status] [33537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:31.285Z] [runtime-status] [33537] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:44:31.292Z] [runtime-status] [33537] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:44:31.292Z] [runtime-status] [33537] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:44:31.374Z] [runtime-status] [33543] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:44:31.378Z] [runtime-status] [33543] Listening to port: /tmp/fire_emu_793c0cbb5c914c86.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33543] Listening to port: /tmp/fire_emu_793c0cbb5c914c86.sock"}}
[debug] [2023-10-19T03:44:31.444Z] [worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: IDLE"}}
[debug] [2023-10-19T03:44:31.444Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:44:31.445Z] [worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:44:31.538Z] [runtime-status] [33537] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:44:31.539Z] [runtime-status] [33537] Listening to port: /tmp/fire_emu_dfe0979951e2f756.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [33537] Listening to port: /tmp/fire_emu_dfe0979951e2f756.sock"}}
[debug] [2023-10-19T03:44:31.606Z] [worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: IDLE"}}
[debug] [2023-10-19T03:44:31.606Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:44:31.607Z] [worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_7Dtyc2fGSEfDWe?t=1697687072', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_7Dtyc2fGSEfDWe?t=1697687072',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_7Dtyc2fGSEfDWe?t=1697687072',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:44:32 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:44:32 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:44:32 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-342adc61-da59-4d8b-8e34-25cce5d177e2', {"user":"      'idempotency-key': 'stripe-node-retry-342adc61-da59-4d8b-8e34-25cce5d177e2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-342adc61-da59-4d8b-8e34-25cce5d177e2',"}}
[info] >        'original-request': 'req_7Dtyc2fGSEfDWe', {"user":"      'original-request': 'req_7Dtyc2fGSEfDWe',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_7Dtyc2fGSEfDWe',"}}
[info] >        'request-id': 'req_7Dtyc2fGSEfDWe', {"user":"      'request-id': 'req_7Dtyc2fGSEfDWe',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_7Dtyc2fGSEfDWe',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_7Dtyc2fGSEfDWe' {"user":"    requestId: 'req_7Dtyc2fGSEfDWe'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_7Dtyc2fGSEfDWe'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:44:32 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:44:32 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:44:32 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-342adc61-da59-4d8b-8e34-25cce5d177e2', {"user":"    'idempotency-key': 'stripe-node-retry-342adc61-da59-4d8b-8e34-25cce5d177e2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-342adc61-da59-4d8b-8e34-25cce5d177e2',"}}
[info] >      'original-request': 'req_7Dtyc2fGSEfDWe', {"user":"    'original-request': 'req_7Dtyc2fGSEfDWe',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_7Dtyc2fGSEfDWe',"}}
[info] >      'request-id': 'req_7Dtyc2fGSEfDWe', {"user":"    'request-id': 'req_7Dtyc2fGSEfDWe',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_7Dtyc2fGSEfDWe',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_7Dtyc2fGSEfDWe', {"user":"  requestId: 'req_7Dtyc2fGSEfDWe',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_7Dtyc2fGSEfDWe',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:44:33.226Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:44:28.595Z"],"workRunningCount":1}
[debug] [2023-10-19T03:44:33.226Z] [worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: exited"}}
[debug] [2023-10-19T03:44:33.227Z] [worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-8e2e01be-a403-4b00-8a34-43ad88f78b60]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_B0xGXs4400jPLw?t=1697687072', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_B0xGXs4400jPLw?t=1697687072',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_B0xGXs4400jPLw?t=1697687072',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:44:33 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:44:33 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:44:33 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-8bc9ecd4-c5b1-4555-a192-b9ce8177fc83', {"user":"      'idempotency-key': 'stripe-node-retry-8bc9ecd4-c5b1-4555-a192-b9ce8177fc83',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-8bc9ecd4-c5b1-4555-a192-b9ce8177fc83',"}}
[info] >        'original-request': 'req_B0xGXs4400jPLw', {"user":"      'original-request': 'req_B0xGXs4400jPLw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_B0xGXs4400jPLw',"}}
[info] >        'request-id': 'req_B0xGXs4400jPLw', {"user":"      'request-id': 'req_B0xGXs4400jPLw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_B0xGXs4400jPLw',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_B0xGXs4400jPLw' {"user":"    requestId: 'req_B0xGXs4400jPLw'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_B0xGXs4400jPLw'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:44:33 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:44:33 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:44:33 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-8bc9ecd4-c5b1-4555-a192-b9ce8177fc83', {"user":"    'idempotency-key': 'stripe-node-retry-8bc9ecd4-c5b1-4555-a192-b9ce8177fc83',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-8bc9ecd4-c5b1-4555-a192-b9ce8177fc83',"}}
[info] >      'original-request': 'req_B0xGXs4400jPLw', {"user":"    'original-request': 'req_B0xGXs4400jPLw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_B0xGXs4400jPLw',"}}
[info] >      'request-id': 'req_B0xGXs4400jPLw', {"user":"    'request-id': 'req_B0xGXs4400jPLw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_B0xGXs4400jPLw',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_B0xGXs4400jPLw', {"user":"  requestId: 'req_B0xGXs4400jPLw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_B0xGXs4400jPLw',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:44:33.309Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:44:33.309Z] [worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: exited"}}
[debug] [2023-10-19T03:44:33.310Z] [worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e90fb3c1-cd99-447c-9632-f4b9bd957d68]: FINISHED"}}
[debug] [2023-10-19T03:46:29.177Z] File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/thuso/Documents/Crip/web_development/shop-kings/functions/index.js changed, reloading triggers"}}
[debug] [2023-10-19T03:46:30.179Z] Validating nodejs source
[debug] [2023-10-19T03:46:31.071Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "stripe": "^14.1.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-10-19T03:46:31.072Z] Building nodejs source
[debug] [2023-10-19T03:46:31.072Z] Failed to find version of module node: reached end of search path /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[debug] [2023-10-19T03:46:31.074Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-10-19T03:46:31.076Z] Found firebase-functions binary at '/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8100

[debug] [2023-10-19T03:46:31.799Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-10-19T03:48:27.949Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.949Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:48:27.950Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.949Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:27.950Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:48:27.955Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:48:27.955Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:48:27.955Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:48:27.974Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:48:27.974Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:48:27.980Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.980Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.949Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:27.980Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.949Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.980Z"],"workRunningCount":2}
[debug] [2023-10-19T03:48:27.980Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:48:27.985Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:48:27.985Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:48:28.009Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:48:28.010Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:48:29.539Z] [runtime-status] [34107] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:29.542Z] [runtime-status] [34107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.544Z] [runtime-status] [34107] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:48:29.554Z] [runtime-status] [34107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.563Z] [runtime-status] [34115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:29.564Z] [runtime-status] [34115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.565Z] [runtime-status] [34115] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:48:29.569Z] [runtime-status] [34115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.817Z] [runtime-status] [34107] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:48:29.817Z] [runtime-status] [34107] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:48:29.819Z] [runtime-status] [34107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.820Z] [runtime-status] [34107] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:29.824Z] [runtime-status] [34107] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.824Z] [runtime-status] [34107] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:48:29.834Z] [runtime-status] [34115] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:48:29.834Z] [runtime-status] [34115] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:48:29.834Z] [runtime-status] [34115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.835Z] [runtime-status] [34115] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:29.840Z] [runtime-status] [34115] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:29.840Z] [runtime-status] [34115] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:48:29.982Z] [runtime-status] [34107] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:48:29.983Z] [runtime-status] [34107] Listening to port: /tmp/fire_emu_96f3a76038a24571.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34107] Listening to port: /tmp/fire_emu_96f3a76038a24571.sock"}}
[debug] [2023-10-19T03:48:30.002Z] [runtime-status] [34115] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:48:30.003Z] [runtime-status] [34115] Listening to port: /tmp/fire_emu_3119c213d64568af.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34115] Listening to port: /tmp/fire_emu_3119c213d64568af.sock"}}
[debug] [2023-10-19T03:48:30.010Z] [worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: IDLE"}}
[debug] [2023-10-19T03:48:30.011Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:48:30.011Z] [worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:48:30.053Z] [worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: IDLE"}}
[debug] [2023-10-19T03:48:30.054Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:48:30.054Z] [worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_EZMsleMExzKjij?t=1697687311', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_EZMsleMExzKjij?t=1697687311',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_EZMsleMExzKjij?t=1697687311',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:48:31 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:48:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:48:31 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-af5106a3-d72d-4fca-9f30-6bcb55c77af6', {"user":"      'idempotency-key': 'stripe-node-retry-af5106a3-d72d-4fca-9f30-6bcb55c77af6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-af5106a3-d72d-4fca-9f30-6bcb55c77af6',"}}
[info] >        'original-request': 'req_EZMsleMExzKjij', {"user":"      'original-request': 'req_EZMsleMExzKjij',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_EZMsleMExzKjij',"}}
[info] >        'request-id': 'req_EZMsleMExzKjij', {"user":"      'request-id': 'req_EZMsleMExzKjij',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_EZMsleMExzKjij',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_EZMsleMExzKjij' {"user":"    requestId: 'req_EZMsleMExzKjij'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_EZMsleMExzKjij'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:48:31 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:48:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:48:31 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-af5106a3-d72d-4fca-9f30-6bcb55c77af6', {"user":"    'idempotency-key': 'stripe-node-retry-af5106a3-d72d-4fca-9f30-6bcb55c77af6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-af5106a3-d72d-4fca-9f30-6bcb55c77af6',"}}
[info] >      'original-request': 'req_EZMsleMExzKjij', {"user":"    'original-request': 'req_EZMsleMExzKjij',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_EZMsleMExzKjij',"}}
[info] >      'request-id': 'req_EZMsleMExzKjij', {"user":"    'request-id': 'req_EZMsleMExzKjij',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_EZMsleMExzKjij',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_EZMsleMExzKjij', {"user":"  requestId: 'req_EZMsleMExzKjij',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_EZMsleMExzKjij',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:48:31.712Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:27.980Z"],"workRunningCount":1}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_FeWjqqkFIl6KAJ?t=1697687311', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_FeWjqqkFIl6KAJ?t=1697687311',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_FeWjqqkFIl6KAJ?t=1697687311',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:48:31 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:48:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:48:31 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-b8ebabd1-08da-4c2d-a115-ca3a8da4cb94', {"user":"      'idempotency-key': 'stripe-node-retry-b8ebabd1-08da-4c2d-a115-ca3a8da4cb94',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-b8ebabd1-08da-4c2d-a115-ca3a8da4cb94',"}}
[info] >        'original-request': 'req_FeWjqqkFIl6KAJ', {"user":"      'original-request': 'req_FeWjqqkFIl6KAJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_FeWjqqkFIl6KAJ',"}}
[info] >        'request-id': 'req_FeWjqqkFIl6KAJ', {"user":"      'request-id': 'req_FeWjqqkFIl6KAJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_FeWjqqkFIl6KAJ',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_FeWjqqkFIl6KAJ' {"user":"    requestId: 'req_FeWjqqkFIl6KAJ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_FeWjqqkFIl6KAJ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:48:31 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:48:31 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:48:31 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-b8ebabd1-08da-4c2d-a115-ca3a8da4cb94', {"user":"    'idempotency-key': 'stripe-node-retry-b8ebabd1-08da-4c2d-a115-ca3a8da4cb94',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-b8ebabd1-08da-4c2d-a115-ca3a8da4cb94',"}}
[info] >      'original-request': 'req_FeWjqqkFIl6KAJ', {"user":"    'original-request': 'req_FeWjqqkFIl6KAJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_FeWjqqkFIl6KAJ',"}}
[info] >      'request-id': 'req_FeWjqqkFIl6KAJ', {"user":"    'request-id': 'req_FeWjqqkFIl6KAJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_FeWjqqkFIl6KAJ',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_FeWjqqkFIl6KAJ', {"user":"  requestId: 'req_FeWjqqkFIl6KAJ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_FeWjqqkFIl6KAJ',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[debug] [2023-10-19T03:48:31.738Z] [worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: exited"}}
[debug] [2023-10-19T03:48:31.738Z] [worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a55076c9-d53a-4025-af61-e890e3c4dcf2]: FINISHED"}}
[debug] [2023-10-19T03:48:31.738Z] [worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: exited"}}
[debug] [2023-10-19T03:48:31.738Z] [worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-baf55322-09d5-4d3f-8585-b9d5242f1c59]: FINISHED"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:48:31.741Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:48:44.426Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.426Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:48:44.427Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.426Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:44.427Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:48:44.431Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:48:44.431Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:48:44.431Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:48:44.447Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:48:44.448Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:48:44.475Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.475Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.426Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:44.475Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.426Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.475Z"],"workRunningCount":2}
[debug] [2023-10-19T03:48:44.475Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:48:44.478Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:48:44.478Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:48:44.493Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:48:44.493Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:48:46.591Z] [runtime-status] [34149] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:46.591Z] [runtime-status] [34149] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.594Z] [runtime-status] [34149] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:48:46.594Z] [runtime-status] [34149] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.694Z] [runtime-status] [34156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:46.696Z] [runtime-status] [34156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.696Z] [runtime-status] [34156] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:48:46.698Z] [runtime-status] [34156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.878Z] [runtime-status] [34149] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:48:46.879Z] [runtime-status] [34149] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:48:46.882Z] [runtime-status] [34149] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.883Z] [runtime-status] [34149] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:46.887Z] [runtime-status] [34149] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.887Z] [runtime-status] [34149] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:48:46.947Z] [runtime-status] [34156] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:48:46.948Z] [runtime-status] [34156] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:48:46.949Z] [runtime-status] [34156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.951Z] [runtime-status] [34156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:46.956Z] [runtime-status] [34156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:46.956Z] [runtime-status] [34156] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:48:47.081Z] [runtime-status] [34149] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:48:47.083Z] [runtime-status] [34149] Listening to port: /tmp/fire_emu_a5542ac9c57d6364.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34149] Listening to port: /tmp/fire_emu_a5542ac9c57d6364.sock"}}
[debug] [2023-10-19T03:48:47.133Z] [worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: IDLE"}}
[debug] [2023-10-19T03:48:47.137Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:48:47.139Z] [worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:48:47.214Z] [runtime-status] [34156] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:48:47.214Z] [runtime-status] [34156] Listening to port: /tmp/fire_emu_d2b57dd12e8dda3b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34156] Listening to port: /tmp/fire_emu_d2b57dd12e8dda3b.sock"}}
[debug] [2023-10-19T03:48:47.277Z] [worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: IDLE"}}
[debug] [2023-10-19T03:48:47.278Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:48:47.278Z] [worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_2ZZa55dcYSSfJk?t=1697687328', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_2ZZa55dcYSSfJk?t=1697687328',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_2ZZa55dcYSSfJk?t=1697687328',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:48:48 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:48:48 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:48:48 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-d0978441-c7e0-43b4-bf18-33697ae799e8', {"user":"      'idempotency-key': 'stripe-node-retry-d0978441-c7e0-43b4-bf18-33697ae799e8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-d0978441-c7e0-43b4-bf18-33697ae799e8',"}}
[info] >        'original-request': 'req_2ZZa55dcYSSfJk', {"user":"      'original-request': 'req_2ZZa55dcYSSfJk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_2ZZa55dcYSSfJk',"}}
[info] >        'request-id': 'req_2ZZa55dcYSSfJk', {"user":"      'request-id': 'req_2ZZa55dcYSSfJk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_2ZZa55dcYSSfJk',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_2ZZa55dcYSSfJk' {"user":"    requestId: 'req_2ZZa55dcYSSfJk'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_2ZZa55dcYSSfJk'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:48:48 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:48:48 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:48:48 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-d0978441-c7e0-43b4-bf18-33697ae799e8', {"user":"    'idempotency-key': 'stripe-node-retry-d0978441-c7e0-43b4-bf18-33697ae799e8',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-d0978441-c7e0-43b4-bf18-33697ae799e8',"}}
[info] >      'original-request': 'req_2ZZa55dcYSSfJk', {"user":"    'original-request': 'req_2ZZa55dcYSSfJk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_2ZZa55dcYSSfJk',"}}
[info] >      'request-id': 'req_2ZZa55dcYSSfJk', {"user":"    'request-id': 'req_2ZZa55dcYSSfJk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_2ZZa55dcYSSfJk',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_2ZZa55dcYSSfJk', {"user":"  requestId: 'req_2ZZa55dcYSSfJk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_2ZZa55dcYSSfJk',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:48:48.870Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:44.475Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:48.871Z] [worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: exited"}}
[debug] [2023-10-19T03:48:48.871Z] [worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-aef357d9-d3f5-4b52-b138-10e32493e98d]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_tFTY0EG7ZWRuR5?t=1697687328', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_tFTY0EG7ZWRuR5?t=1697687328',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_tFTY0EG7ZWRuR5?t=1697687328',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:48:48 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:48:48 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:48:48 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-3529ca1c-0fd2-4e72-b624-8f27d3edfba2', {"user":"      'idempotency-key': 'stripe-node-retry-3529ca1c-0fd2-4e72-b624-8f27d3edfba2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-3529ca1c-0fd2-4e72-b624-8f27d3edfba2',"}}
[info] >        'original-request': 'req_tFTY0EG7ZWRuR5', {"user":"      'original-request': 'req_tFTY0EG7ZWRuR5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_tFTY0EG7ZWRuR5',"}}
[info] >        'request-id': 'req_tFTY0EG7ZWRuR5', {"user":"      'request-id': 'req_tFTY0EG7ZWRuR5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_tFTY0EG7ZWRuR5',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_tFTY0EG7ZWRuR5' {"user":"    requestId: 'req_tFTY0EG7ZWRuR5'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_tFTY0EG7ZWRuR5'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:48:48 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:48:48 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:48:48 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-3529ca1c-0fd2-4e72-b624-8f27d3edfba2', {"user":"    'idempotency-key': 'stripe-node-retry-3529ca1c-0fd2-4e72-b624-8f27d3edfba2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-3529ca1c-0fd2-4e72-b624-8f27d3edfba2',"}}
[info] >      'original-request': 'req_tFTY0EG7ZWRuR5', {"user":"    'original-request': 'req_tFTY0EG7ZWRuR5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_tFTY0EG7ZWRuR5',"}}
[info] >      'request-id': 'req_tFTY0EG7ZWRuR5', {"user":"    'request-id': 'req_tFTY0EG7ZWRuR5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_tFTY0EG7ZWRuR5',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_tFTY0EG7ZWRuR5', {"user":"  requestId: 'req_tFTY0EG7ZWRuR5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_tFTY0EG7ZWRuR5',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:48:48.943Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:48:48.944Z] [worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: exited"}}
[debug] [2023-10-19T03:48:48.944Z] [worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bb5de1e2-7d31-4c4e-aa48-ac1f21ea4624]: FINISHED"}}
[debug] [2023-10-19T03:48:52.882Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.881Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:48:52.883Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.881Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:52.883Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:48:52.886Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:48:52.886Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:48:52.887Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:48:52.902Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:48:52.902Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:48:52.905Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.905Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.881Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:52.906Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.881Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.905Z"],"workRunningCount":2}
[debug] [2023-10-19T03:48:52.906Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:48:52.912Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:48:52.916Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:48:52.936Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:48:52.937Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:48:55.028Z] [runtime-status] [34197] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:55.034Z] [runtime-status] [34197] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.040Z] [runtime-status] [34197] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:48:55.049Z] [runtime-status] [34197] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.300Z] [runtime-status] [34191] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:55.311Z] [runtime-status] [34191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.312Z] [runtime-status] [34191] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:48:55.314Z] [runtime-status] [34191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.478Z] [runtime-status] [34197] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:48:55.478Z] [runtime-status] [34197] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:48:55.481Z] [runtime-status] [34197] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.482Z] [runtime-status] [34197] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:55.484Z] [runtime-status] [34197] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.484Z] [runtime-status] [34197] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:48:55.610Z] [runtime-status] [34191] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:48:55.610Z] [runtime-status] [34191] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:48:55.611Z] [runtime-status] [34191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.614Z] [runtime-status] [34191] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:48:55.616Z] [runtime-status] [34191] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:48:55.617Z] [runtime-status] [34191] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:48:55.645Z] [runtime-status] [34197] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:48:55.646Z] [runtime-status] [34197] Listening to port: /tmp/fire_emu_c08b0fda4fb2dcdb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34197] Listening to port: /tmp/fire_emu_c08b0fda4fb2dcdb.sock"}}
[debug] [2023-10-19T03:48:55.710Z] [worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: IDLE"}}
[debug] [2023-10-19T03:48:55.711Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:48:55.711Z] [worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:48:55.757Z] [runtime-status] [34191] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:48:55.758Z] [runtime-status] [34191] Listening to port: /tmp/fire_emu_8a8a449c65b06575.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34191] Listening to port: /tmp/fire_emu_8a8a449c65b06575.sock"}}
[debug] [2023-10-19T03:48:55.774Z] [worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: IDLE"}}
[debug] [2023-10-19T03:48:55.776Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:48:55.776Z] [worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_s4RILZZdLsoOj5?t=1697687336', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_s4RILZZdLsoOj5?t=1697687336',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_s4RILZZdLsoOj5?t=1697687336',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:48:57 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:48:57 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:48:57 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-10fcdce6-379c-47fd-a745-0a505f9559c4', {"user":"      'idempotency-key': 'stripe-node-retry-10fcdce6-379c-47fd-a745-0a505f9559c4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-10fcdce6-379c-47fd-a745-0a505f9559c4',"}}
[info] >        'original-request': 'req_s4RILZZdLsoOj5', {"user":"      'original-request': 'req_s4RILZZdLsoOj5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_s4RILZZdLsoOj5',"}}
[info] >        'request-id': 'req_s4RILZZdLsoOj5', {"user":"      'request-id': 'req_s4RILZZdLsoOj5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_s4RILZZdLsoOj5',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_s4RILZZdLsoOj5' {"user":"    requestId: 'req_s4RILZZdLsoOj5'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_s4RILZZdLsoOj5'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:48:57 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:48:57 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:48:57 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-10fcdce6-379c-47fd-a745-0a505f9559c4', {"user":"    'idempotency-key': 'stripe-node-retry-10fcdce6-379c-47fd-a745-0a505f9559c4',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-10fcdce6-379c-47fd-a745-0a505f9559c4',"}}
[info] >      'original-request': 'req_s4RILZZdLsoOj5', {"user":"    'original-request': 'req_s4RILZZdLsoOj5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_s4RILZZdLsoOj5',"}}
[info] >      'request-id': 'req_s4RILZZdLsoOj5', {"user":"    'request-id': 'req_s4RILZZdLsoOj5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_s4RILZZdLsoOj5',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_s4RILZZdLsoOj5', {"user":"  requestId: 'req_s4RILZZdLsoOj5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_s4RILZZdLsoOj5',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:48:57.340Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:48:52.881Z"],"workRunningCount":1}
[debug] [2023-10-19T03:48:57.340Z] [worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: exited"}}
[debug] [2023-10-19T03:48:57.340Z] [worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7bdec8ae-1564-4b6e-a246-f543546582c0]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_g2bKe1YdHlMeYp?t=1697687337', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_g2bKe1YdHlMeYp?t=1697687337',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_g2bKe1YdHlMeYp?t=1697687337',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:48:57 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:48:57 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:48:57 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-123ba70e-822b-465d-9386-7740a1ed4438', {"user":"      'idempotency-key': 'stripe-node-retry-123ba70e-822b-465d-9386-7740a1ed4438',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-123ba70e-822b-465d-9386-7740a1ed4438',"}}
[info] >        'original-request': 'req_g2bKe1YdHlMeYp', {"user":"      'original-request': 'req_g2bKe1YdHlMeYp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_g2bKe1YdHlMeYp',"}}
[info] >        'request-id': 'req_g2bKe1YdHlMeYp', {"user":"      'request-id': 'req_g2bKe1YdHlMeYp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_g2bKe1YdHlMeYp',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_g2bKe1YdHlMeYp' {"user":"    requestId: 'req_g2bKe1YdHlMeYp'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_g2bKe1YdHlMeYp'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:48:57 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:48:57 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:48:57 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-123ba70e-822b-465d-9386-7740a1ed4438', {"user":"    'idempotency-key': 'stripe-node-retry-123ba70e-822b-465d-9386-7740a1ed4438',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-123ba70e-822b-465d-9386-7740a1ed4438',"}}
[info] >      'original-request': 'req_g2bKe1YdHlMeYp', {"user":"    'original-request': 'req_g2bKe1YdHlMeYp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_g2bKe1YdHlMeYp',"}}
[info] >      'request-id': 'req_g2bKe1YdHlMeYp', {"user":"    'request-id': 'req_g2bKe1YdHlMeYp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_g2bKe1YdHlMeYp',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_g2bKe1YdHlMeYp', {"user":"  requestId: 'req_g2bKe1YdHlMeYp',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_g2bKe1YdHlMeYp',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:48:57.455Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:48:57.455Z] [worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: exited"}}
[debug] [2023-10-19T03:48:57.456Z] [worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a059baa3-64ea-4518-af00-86bd5fc13fc5]: FINISHED"}}
[debug] [2023-10-19T03:49:25.350Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.350Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:49:25.350Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.350Z"],"workRunningCount":1}
[debug] [2023-10-19T03:49:25.351Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:49:25.354Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:49:25.354Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:49:25.354Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:49:25.372Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:49:25.372Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:49:25.375Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.375Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.350Z"],"workRunningCount":1}
[debug] [2023-10-19T03:49:25.375Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.350Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.375Z"],"workRunningCount":2}
[debug] [2023-10-19T03:49:25.375Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:49:25.382Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:49:25.382Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:49:25.412Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:49:25.413Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:49:26.954Z] [runtime-status] [34225] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:49:26.959Z] [runtime-status] [34225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:26.959Z] [runtime-status] [34225] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:49:26.960Z] [runtime-status] [34225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.000Z] [runtime-status] [34219] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:49:27.003Z] [runtime-status] [34219] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.004Z] [runtime-status] [34219] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:49:27.009Z] [runtime-status] [34219] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.197Z] [runtime-status] [34225] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:49:27.199Z] [runtime-status] [34225] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:49:27.199Z] [runtime-status] [34225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.201Z] [runtime-status] [34225] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:49:27.204Z] [runtime-status] [34225] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.204Z] [runtime-status] [34225] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:49:27.232Z] [runtime-status] [34219] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:49:27.233Z] [runtime-status] [34219] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:49:27.234Z] [runtime-status] [34219] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.236Z] [runtime-status] [34219] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:49:27.241Z] [runtime-status] [34219] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:49:27.241Z] [runtime-status] [34219] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:49:27.342Z] [runtime-status] [34225] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:49:27.343Z] [runtime-status] [34225] Listening to port: /tmp/fire_emu_cb0dc69cbf976b63.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34225] Listening to port: /tmp/fire_emu_cb0dc69cbf976b63.sock"}}
[debug] [2023-10-19T03:49:27.375Z] [runtime-status] [34219] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:49:27.376Z] [runtime-status] [34219] Listening to port: /tmp/fire_emu_61dbed2ca840da30.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34219] Listening to port: /tmp/fire_emu_61dbed2ca840da30.sock"}}
[debug] [2023-10-19T03:49:27.405Z] [worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: IDLE"}}
[debug] [2023-10-19T03:49:27.406Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:49:27.407Z] [worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[debug] [2023-10-19T03:49:27.447Z] [worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: IDLE"}}
[debug] [2023-10-19T03:49:27.447Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:49:27.448Z] [worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_0Ln6eN5Q02dRtI?t=1697687368', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_0Ln6eN5Q02dRtI?t=1697687368',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_0Ln6eN5Q02dRtI?t=1697687368',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:49:28 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:49:28 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:49:28 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-ebef4752-fefc-4ed3-8c5e-099451704b66', {"user":"      'idempotency-key': 'stripe-node-retry-ebef4752-fefc-4ed3-8c5e-099451704b66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-ebef4752-fefc-4ed3-8c5e-099451704b66',"}}
[info] >        'original-request': 'req_0Ln6eN5Q02dRtI', {"user":"      'original-request': 'req_0Ln6eN5Q02dRtI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_0Ln6eN5Q02dRtI',"}}
[info] >        'request-id': 'req_0Ln6eN5Q02dRtI', {"user":"      'request-id': 'req_0Ln6eN5Q02dRtI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_0Ln6eN5Q02dRtI',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_0Ln6eN5Q02dRtI' {"user":"    requestId: 'req_0Ln6eN5Q02dRtI'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_0Ln6eN5Q02dRtI'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:49:28 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:49:28 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:49:28 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-ebef4752-fefc-4ed3-8c5e-099451704b66', {"user":"    'idempotency-key': 'stripe-node-retry-ebef4752-fefc-4ed3-8c5e-099451704b66',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-ebef4752-fefc-4ed3-8c5e-099451704b66',"}}
[info] >      'original-request': 'req_0Ln6eN5Q02dRtI', {"user":"    'original-request': 'req_0Ln6eN5Q02dRtI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_0Ln6eN5Q02dRtI',"}}
[info] >      'request-id': 'req_0Ln6eN5Q02dRtI', {"user":"    'request-id': 'req_0Ln6eN5Q02dRtI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_0Ln6eN5Q02dRtI',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_0Ln6eN5Q02dRtI', {"user":"  requestId: 'req_0Ln6eN5Q02dRtI',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_0Ln6eN5Q02dRtI',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:49:29.086Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:49:25.375Z"],"workRunningCount":1}
[debug] [2023-10-19T03:49:29.086Z] [worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: exited"}}
[debug] [2023-10-19T03:49:29.086Z] [worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-82ddc85a-d159-46bc-8661-cdbca7e4ae54]: FINISHED"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_tywNfRabZo74cK?t=1697687368', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_tywNfRabZo74cK?t=1697687368',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_tywNfRabZo74cK?t=1697687368',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:49:28 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:49:28 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:49:28 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-185548bd-4055-4e82-b743-f2ac569db047', {"user":"      'idempotency-key': 'stripe-node-retry-185548bd-4055-4e82-b743-f2ac569db047',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-185548bd-4055-4e82-b743-f2ac569db047',"}}
[info] >        'original-request': 'req_tywNfRabZo74cK', {"user":"      'original-request': 'req_tywNfRabZo74cK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_tywNfRabZo74cK',"}}
[info] >        'request-id': 'req_tywNfRabZo74cK', {"user":"      'request-id': 'req_tywNfRabZo74cK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_tywNfRabZo74cK',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_tywNfRabZo74cK' {"user":"    requestId: 'req_tywNfRabZo74cK'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_tywNfRabZo74cK'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:49:28 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:49:28 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:49:28 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-185548bd-4055-4e82-b743-f2ac569db047', {"user":"    'idempotency-key': 'stripe-node-retry-185548bd-4055-4e82-b743-f2ac569db047',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-185548bd-4055-4e82-b743-f2ac569db047',"}}
[info] >      'original-request': 'req_tywNfRabZo74cK', {"user":"    'original-request': 'req_tywNfRabZo74cK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_tywNfRabZo74cK',"}}
[info] >      'request-id': 'req_tywNfRabZo74cK', {"user":"    'request-id': 'req_tywNfRabZo74cK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_tywNfRabZo74cK',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_tywNfRabZo74cK', {"user":"  requestId: 'req_tywNfRabZo74cK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_tywNfRabZo74cK',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:49:29.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:49:29.169Z] [worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: exited"}}
[debug] [2023-10-19T03:49:29.169Z] [worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-70492e45-43fb-443f-a172-831db6ec289a]: FINISHED"}}
[debug] [2023-10-19T03:55:06.907Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.907Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:55:06.908Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.907Z"],"workRunningCount":1}
[debug] [2023-10-19T03:55:06.908Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=360285.00000000006 --> us-central1-api
[debug] [2023-10-19T03:55:06.928Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:55:06.929Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=360285.00000000006, mapping to path=/payment/create?total=360285.00000000006 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=360285.00000000006, mapping to path=/payment/create?total=360285.00000000006"}}
[debug] [2023-10-19T03:55:06.930Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:55:06.963Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:55:06.964Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:55:06.973Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.973Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.907Z"],"workRunningCount":1}
[debug] [2023-10-19T03:55:06.976Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.907Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.973Z"],"workRunningCount":2}
[debug] [2023-10-19T03:55:06.976Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=360285.00000000006 --> us-central1-api
[debug] [2023-10-19T03:55:06.982Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:55:06.983Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=360285.00000000006, mapping to path=/payment/create?total=360285.00000000006 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=360285.00000000006, mapping to path=/payment/create?total=360285.00000000006"}}
[debug] [2023-10-19T03:55:07.005Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:55:07.006Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:55:08.723Z] [runtime-status] [34468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:08.727Z] [runtime-status] [34468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:08.727Z] [runtime-status] [34468] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:55:08.727Z] [runtime-status] [34462] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:08.741Z] [runtime-status] [34468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:08.743Z] [runtime-status] [34462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:08.744Z] [runtime-status] [34462] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:55:08.744Z] [runtime-status] [34462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:09.187Z] [runtime-status] [34462] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:55:09.188Z] [runtime-status] [34462] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:55:09.190Z] [runtime-status] [34462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:09.192Z] [runtime-status] [34462] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:09.194Z] [runtime-status] [34462] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:09.196Z] [runtime-status] [34462] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:55:09.230Z] [runtime-status] [34468] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:55:09.237Z] [runtime-status] [34468] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:55:09.238Z] [runtime-status] [34468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:09.242Z] [runtime-status] [34468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:09.243Z] [runtime-status] [34468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:09.244Z] [runtime-status] [34468] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:55:09.451Z] [runtime-status] [34462] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:55:09.452Z] [runtime-status] [34462] Listening to port: /tmp/fire_emu_51b72da00b14f1ec.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34462] Listening to port: /tmp/fire_emu_51b72da00b14f1ec.sock"}}
[debug] [2023-10-19T03:55:09.488Z] [runtime-status] [34468] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:55:09.489Z] [runtime-status] [34468] Listening to port: /tmp/fire_emu_69d9f3787c12d3b6.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34468] Listening to port: /tmp/fire_emu_69d9f3787c12d3b6.sock"}}
[debug] [2023-10-19T03:55:09.532Z] [worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: IDLE"}}
[debug] [2023-10-19T03:55:09.533Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:55:09.535Z] [worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  360285.00000000006 {"user":"Payment Request Recieved for this amount >>>  360285.00000000006","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  360285.00000000006"}}
[debug] [2023-10-19T03:55:09.589Z] [worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: IDLE"}}
[debug] [2023-10-19T03:55:09.589Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:55:09.592Z] [worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  360285.00000000006 {"user":"Payment Request Recieved for this amount >>>  360285.00000000006","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  360285.00000000006"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 360285.00000000006 {"user":"StripeInvalidRequestError: Invalid integer: 360285.00000000006","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 360285.00000000006"}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 360285.00000000006', {"user":"    message: 'Invalid integer: 360285.00000000006',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 360285.00000000006',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_YerBLwIfXMIIXt?t=1697687710', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_YerBLwIfXMIIXt?t=1697687710',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_YerBLwIfXMIIXt?t=1697687710',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:55:11 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:55:11 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:55:11 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '352', {"user":"      'content-length': '352',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '352',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-4ccc7827-b3bd-4409-b4ed-98d404f50735', {"user":"      'idempotency-key': 'stripe-node-retry-4ccc7827-b3bd-4409-b4ed-98d404f50735',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-4ccc7827-b3bd-4409-b4ed-98d404f50735',"}}
[info] >        'original-request': 'req_YerBLwIfXMIIXt', {"user":"      'original-request': 'req_YerBLwIfXMIIXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_YerBLwIfXMIIXt',"}}
[info] >        'request-id': 'req_YerBLwIfXMIIXt', {"user":"      'request-id': 'req_YerBLwIfXMIIXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_YerBLwIfXMIIXt',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_YerBLwIfXMIIXt' {"user":"    requestId: 'req_YerBLwIfXMIIXt'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_YerBLwIfXMIIXt'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:55:11 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:55:11 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:55:11 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '352', {"user":"    'content-length': '352',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '352',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-4ccc7827-b3bd-4409-b4ed-98d404f50735', {"user":"    'idempotency-key': 'stripe-node-retry-4ccc7827-b3bd-4409-b4ed-98d404f50735',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-4ccc7827-b3bd-4409-b4ed-98d404f50735',"}}
[info] >      'original-request': 'req_YerBLwIfXMIIXt', {"user":"    'original-request': 'req_YerBLwIfXMIIXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_YerBLwIfXMIIXt',"}}
[info] >      'request-id': 'req_YerBLwIfXMIIXt', {"user":"    'request-id': 'req_YerBLwIfXMIIXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_YerBLwIfXMIIXt',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_YerBLwIfXMIIXt', {"user":"  requestId: 'req_YerBLwIfXMIIXt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_YerBLwIfXMIIXt',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 360285.00000000006 {"user":"StripeInvalidRequestError: Invalid integer: 360285.00000000006","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 360285.00000000006"}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 360285.00000000006', {"user":"    message: 'Invalid integer: 360285.00000000006',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 360285.00000000006',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_jEmT1WBLrRyPLa?t=1697687710', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_jEmT1WBLrRyPLa?t=1697687710',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_jEmT1WBLrRyPLa?t=1697687710',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:55:11 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:55:11 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:55:11 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '352', {"user":"      'content-length': '352',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '352',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-0c57634a-4d20-40cc-932f-6fc267f9b8e3', {"user":"      'idempotency-key': 'stripe-node-retry-0c57634a-4d20-40cc-932f-6fc267f9b8e3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-0c57634a-4d20-40cc-932f-6fc267f9b8e3',"}}
[info] >        'original-request': 'req_jEmT1WBLrRyPLa', {"user":"      'original-request': 'req_jEmT1WBLrRyPLa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_jEmT1WBLrRyPLa',"}}
[info] >        'request-id': 'req_jEmT1WBLrRyPLa', {"user":"      'request-id': 'req_jEmT1WBLrRyPLa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_jEmT1WBLrRyPLa',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_jEmT1WBLrRyPLa' {"user":"    requestId: 'req_jEmT1WBLrRyPLa'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_jEmT1WBLrRyPLa'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:55:11 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:55:11 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:55:11 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '352', {"user":"    'content-length': '352',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '352',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-0c57634a-4d20-40cc-932f-6fc267f9b8e3', {"user":"    'idempotency-key': 'stripe-node-retry-0c57634a-4d20-40cc-932f-6fc267f9b8e3',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-0c57634a-4d20-40cc-932f-6fc267f9b8e3',"}}
[info] >      'original-request': 'req_jEmT1WBLrRyPLa', {"user":"    'original-request': 'req_jEmT1WBLrRyPLa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_jEmT1WBLrRyPLa',"}}
[info] >      'request-id': 'req_jEmT1WBLrRyPLa', {"user":"    'request-id': 'req_jEmT1WBLrRyPLa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_jEmT1WBLrRyPLa',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_jEmT1WBLrRyPLa', {"user":"  requestId: 'req_jEmT1WBLrRyPLa',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_jEmT1WBLrRyPLa',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:55:11.385Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:06.973Z"],"workRunningCount":1}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:55:11.387Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:55:11.387Z] [worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: exited"}}
[debug] [2023-10-19T03:55:11.387Z] [worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-904b4809-16fb-496a-9b9a-19e5c538ff30]: FINISHED"}}
[debug] [2023-10-19T03:55:11.387Z] [worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: exited"}}
[debug] [2023-10-19T03:55:11.387Z] [worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-581fab53-a3d6-41e7-9390-e61fc7bb26b2]: FINISHED"}}
[debug] [2023-10-19T03:55:43.676Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.675Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:55:43.676Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.675Z"],"workRunningCount":1}
[debug] [2023-10-19T03:55:43.676Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=72957 --> us-central1-api
[debug] [2023-10-19T03:55:43.680Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:55:43.681Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=72957, mapping to path=/payment/create?total=72957 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=72957, mapping to path=/payment/create?total=72957"}}
[debug] [2023-10-19T03:55:43.681Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2023-10-19T03:55:43.701Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:55:43.701Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-10-19T03:55:43.715Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.714Z"],"queueLength":1,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.675Z"],"workRunningCount":1}
[debug] [2023-10-19T03:55:43.715Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.675Z","/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.714Z"],"workRunningCount":2}
[debug] [2023-10-19T03:55:43.715Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=72957 --> us-central1-api
[debug] [2023-10-19T03:55:43.720Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:55:43.720Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=72957, mapping to path=/payment/create?total=72957 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=72957, mapping to path=/payment/create?total=72957"}}
[debug] [2023-10-19T03:55:43.742Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-10-19T03:55:43.744Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-10-19T03:55:46.018Z] [runtime-status] [34506] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:46.024Z] [runtime-status] [34506] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.025Z] [runtime-status] [34506] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:55:46.026Z] [runtime-status] [34506] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.237Z] [runtime-status] [34512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:46.239Z] [runtime-status] [34512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.240Z] [runtime-status] [34512] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-10-19T03:55:46.244Z] [runtime-status] [34512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.314Z] [runtime-status] [34506] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:55:46.314Z] [runtime-status] [34506] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:55:46.315Z] [runtime-status] [34506] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.317Z] [runtime-status] [34506] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:46.321Z] [runtime-status] [34506] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.321Z] [runtime-status] [34506] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:55:46.470Z] [runtime-status] [34506] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:55:46.470Z] [runtime-status] [34506] Listening to port: /tmp/fire_emu_2e2064dffdf02449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34506] Listening to port: /tmp/fire_emu_2e2064dffdf02449.sock"}}
[debug] [2023-10-19T03:55:46.474Z] [runtime-status] [34512] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-10-19T03:55:46.474Z] [runtime-status] [34512] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-10-19T03:55:46.475Z] [runtime-status] [34512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.477Z] [runtime-status] [34512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-10-19T03:55:46.478Z] [runtime-status] [34512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.4.1","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.4.1\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-10-19T03:55:46.478Z] [runtime-status] [34512] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-10-19T03:55:46.580Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE"}}
[debug] [2023-10-19T03:55:46.580Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:55:46.581Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  72957 {"user":"Payment Request Recieved for this amount >>>  72957","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  72957"}}
[debug] [2023-10-19T03:55:46.634Z] [runtime-status] [34512] Functions runtime initialized. {"cwd":"/home/thuso/Documents/Crip/web_development/shop-kings/functions","node_version":"18.17.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Functions runtime initialized. {\"cwd\":\"/home/thuso/Documents/Crip/web_development/shop-kings/functions\",\"node_version\":\"18.17.1\"}"}}
[debug] [2023-10-19T03:55:46.635Z] [runtime-status] [34512] Listening to port: /tmp/fire_emu_50bfd656dcb03bad.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [34512] Listening to port: /tmp/fire_emu_50bfd656dcb03bad.sock"}}
[debug] [2023-10-19T03:55:46.697Z] [worker-us-central1-api-15c5eba7-c534-4788-bbf4-14e64417ba1d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-15c5eba7-c534-4788-bbf4-14e64417ba1d]: IDLE"}}
[debug] [2023-10-19T03:55:46.697Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:55:46.697Z] [worker-us-central1-api-15c5eba7-c534-4788-bbf4-14e64417ba1d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-15c5eba7-c534-4788-bbf4-14e64417ba1d]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  72957 {"user":"Payment Request Recieved for this amount >>>  72957","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  72957"}}
[debug] [2023-10-19T03:55:48.279Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1698.142093ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1698.142093ms"}}
[debug] [2023-10-19T03:55:48.280Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE"}}
[debug] [2023-10-19T03:55:48.280Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:55:48.280Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:55:48.281Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:55:43.714Z"],"workRunningCount":1}
[debug] [2023-10-19T03:55:48.331Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1634.200898ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1634.200898ms"}}
[debug] [2023-10-19T03:55:48.332Z] [worker-us-central1-api-15c5eba7-c534-4788-bbf4-14e64417ba1d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-15c5eba7-c534-4788-bbf4-14e64417ba1d]: IDLE"}}
[debug] [2023-10-19T03:55:48.332Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:55:48.332Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:55:48.332Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:13.983Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:56:13.983Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:13.983Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:56:13.983Z"],"workRunningCount":1}
[debug] [2023-10-19T03:56:13.983Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=59998 --> us-central1-api
[debug] [2023-10-19T03:56:13.987Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:56:13.988Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=59998, mapping to path=/payment/create?total=59998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=59998, mapping to path=/payment/create?total=59998"}}
[debug] [2023-10-19T03:56:13.988Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:56:13.988Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  59998 {"user":"Payment Request Recieved for this amount >>>  59998","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  59998"}}
[debug] [2023-10-19T03:56:14.734Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 748.972479ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 748.972479ms"}}
[debug] [2023-10-19T03:56:14.738Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE"}}
[debug] [2023-10-19T03:56:14.738Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:56:14.739Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:56:14.739Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:19.977Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:56:19.977Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:19.977Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:56:19.977Z"],"workRunningCount":1}
[debug] [2023-10-19T03:56:19.977Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=29999 --> us-central1-api
[debug] [2023-10-19T03:56:19.981Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:56:19.981Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=29999, mapping to path=/payment/create?total=29999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=29999, mapping to path=/payment/create?total=29999"}}
[debug] [2023-10-19T03:56:19.981Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:56:19.982Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  29999 {"user":"Payment Request Recieved for this amount >>>  29999","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  29999"}}
[debug] [2023-10-19T03:56:20.766Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 784.969718ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 784.969718ms"}}
[debug] [2023-10-19T03:56:20.767Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: IDLE"}}
[debug] [2023-10-19T03:56:20.767Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-10-19T03:56:20.767Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-10-19T03:56:20.767Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:30.097Z] [work-queue] {"queuedWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:56:30.097Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:30.097Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/shop-kings/us-central1/api/payment/create-2023-10-19T03:56:30.097Z"],"workRunningCount":1}
[debug] [2023-10-19T03:56:30.097Z] Accepted request POST /shop-kings/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2023-10-19T03:56:30.101Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-10-19T03:56:30.101Z] [functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/shop-kings/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2023-10-19T03:56:30.101Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-10-19T03:56:30.101Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: BUSY"}}
[info] >  Payment Request Recieved for this amount >>>  0 {"user":"Payment Request Recieved for this amount >>>  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment Request Recieved for this amount >>>  0"}}
[info] >  /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10 {"user":"/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10"}}
[info] >              return new StripeInvalidRequestError(rawStripeError); {"user":"            return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                     ^ {"user":"                   ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m                    ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20) {"user":"    at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at StripeError.generate (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/Error.js:10:20)"}}
[info] >      at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54) {"user":"    at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.Error_js_1.StripeAPIError.message (/home/thuso/Documents/Crip/web_development/shop-kings/functions/node_modules/stripe/cjs/RequestSender.js:105:54)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) { {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      request_log_url: 'https://dashboard.stripe.com/test/logs/req_nSx1vXZWWyagZt?t=1697687790', {"user":"    request_log_url: 'https://dashboard.stripe.com/test/logs/req_nSx1vXZWWyagZt?t=1697687790',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     request_log_url: 'https://dashboard.stripe.com/test/logs/req_nSx1vXZWWyagZt?t=1697687790',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Thu, 19 Oct 2023 03:56:30 GMT', {"user":"      date: 'Thu, 19 Oct 2023 03:56:30 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       date: 'Thu, 19 Oct 2023 03:56:30 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '363', {"user":"      'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-length': '363',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"      'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >        'idempotency-key': 'stripe-node-retry-53b01420-e36d-4822-8eed-b7a356b781f5', {"user":"      'idempotency-key': 'stripe-node-retry-53b01420-e36d-4822-8eed-b7a356b781f5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'idempotency-key': 'stripe-node-retry-53b01420-e36d-4822-8eed-b7a356b781f5',"}}
[info] >        'original-request': 'req_nSx1vXZWWyagZt', {"user":"      'original-request': 'req_nSx1vXZWWyagZt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'original-request': 'req_nSx1vXZWWyagZt',"}}
[info] >        'request-id': 'req_nSx1vXZWWyagZt', {"user":"      'request-id': 'req_nSx1vXZWWyagZt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_nSx1vXZWWyagZt',"}}
[info] >        'stripe-version': '2023-10-16', {"user":"      'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2023-10-16',"}}
[info] >        vary: 'Origin', {"user":"      vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       vary: 'Origin',"}}
[info] >        'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"      'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >        'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_nSx1vXZWWyagZt' {"user":"    requestId: 'req_nSx1vXZWWyagZt'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     requestId: 'req_nSx1vXZWWyagZt'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Thu, 19 Oct 2023 03:56:30 GMT', {"user":"    date: 'Thu, 19 Oct 2023 03:56:30 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 'Thu, 19 Oct 2023 03:56:30 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '363', {"user":"    'content-length': '363',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-length': '363',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE', {"user":"    'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET,HEAD,PUT,PATCH,POST,DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'content-security-policy-report-only': "report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'", {"user":"    'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\",","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'content-security-policy-report-only': \"report-uri https://q.stripe.com/csp-report?p=v1%2Fpayment_intents; block-all-mixed-content; default-src 'none'; base-uri 'none'; form-action 'none'; frame-ancestors 'none'; img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'\","}}
[info] >      'idempotency-key': 'stripe-node-retry-53b01420-e36d-4822-8eed-b7a356b781f5', {"user":"    'idempotency-key': 'stripe-node-retry-53b01420-e36d-4822-8eed-b7a356b781f5',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'idempotency-key': 'stripe-node-retry-53b01420-e36d-4822-8eed-b7a356b781f5',"}}
[info] >      'original-request': 'req_nSx1vXZWWyagZt', {"user":"    'original-request': 'req_nSx1vXZWWyagZt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'original-request': 'req_nSx1vXZWWyagZt',"}}
[info] >      'request-id': 'req_nSx1vXZWWyagZt', {"user":"    'request-id': 'req_nSx1vXZWWyagZt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_nSx1vXZWWyagZt',"}}
[info] >      'stripe-version': '2023-10-16', {"user":"    'stripe-version': '2023-10-16',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2023-10-16',"}}
[info] >      vary: 'Origin', {"user":"    vary: 'Origin',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     vary: 'Origin',"}}
[info] >      'x-stripe-routing-context-priority-tier': 'api-testmode', {"user":"    'x-stripe-routing-context-priority-tier': 'api-testmode',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'x-stripe-routing-context-priority-tier': 'api-testmode',"}}
[info] >      'strict-transport-security': 'max-age=63072000; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=63072000; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_nSx1vXZWWyagZt', {"user":"  requestId: 'req_nSx1vXZWWyagZt',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   requestId: 'req_nSx1vXZWWyagZt',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Node.js v18.17.1 {"user":"Node.js v18.17.1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Node.js v18.17.1"}}
[error] i  Request to function failed: Error: socket hang up {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Request to function failed: Error: socket hang up"}}
[debug] [2023-10-19T03:56:30.811Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-10-19T03:56:30.812Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: exited"}}
[debug] [2023-10-19T03:56:30.812Z] [worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-89ad3295-fcf4-43b9-9bec-718b2efa6a17]: FINISHED"}}
